{"file": {"path": "/Users/dakixr/Desktop/github/scc/tmp-data/metadata/KnowledgeCaptureAndDiscoveryANDmintproject/cromo/src/cromo/catalogs/model_catalog.py", "fileNameBase": "model_catalog", "extension": "py"}, "dependencies": [{"import": "re", "type": "external"}, {"import": "json", "type": "external"}, {"import": "copy", "type": "external"}, {"import": "itertools", "type": "external"}, {"from_module": "modelcatalog", "import": "api_client", "type": "external"}, {"from_module": "modelcatalog", "import": "configuration", "type": "external"}, {"from_module": "modelcatalog.api.model_configuration_api", "import": "ModelConfigurationApi", "type": "external"}, {"from_module": "modelcatalog.api.model_configuration_setup_api", "import": "ModelConfigurationSetupApi", "type": "external"}, {"from_module": "modelcatalog.exceptions", "import": "ApiException", "type": "external"}, {"from_module": "cromo.catalogs.data_catalog", "import": "getMatchingDatasetResources", "type": "external"}, {"from_module": "cromo.catalogs.data_catalog", "import": "getMatchingDatasets", "type": "external"}, {"from_module": "cromo.constants", "import": "EXECUTION_ONTOLOGY_URL", "type": "external"}, {"from_module": "cromo.constants", "import": "MODEL_CATALOG_URL", "type": "external"}, {"from_module": "cromo.constants", "import": "DEFAULT_USERNAME", "type": "external"}, {"from_module": "cromo.constants", "import": "ONTOLOGY_DIR", "type": "external"}, {"from_module": "cromo.constants", "import": "RULES_DIR", "type": "external"}, {"from_module": "cromo.constants", "import": "getLocalName", "type": "external"}, {"from_module": "owlready2", "import": "onto_path", "type": "external"}, {"from_module": "owlready2", "import": "get_ontology", "type": "external"}, {"from_module": "owlready2", "import": "Imp", "type": "external"}, {"from_module": "owlready2", "import": "sync_reasoner_pellet", "type": "external"}, {"from_module": "cromo.metadata.sensors", "import": "SENSORS", "type": "external"}], "classes": {"ModelRuleInput": {"min_max_lineno": {"min_lineno": 88, "max_lineno": 92}, "methods": {"__init__": {"args": ["self", "input", "variable"], "min_max_lineno": {"min_lineno": 89, "max_lineno": 92}}}}}, "functions": {"getAllModelConfigurations": {"returns": [["configs"]], "min_max_lineno": {"min_lineno": 20, "max_lineno": 29}, "calls": ["modelcatalog.api.model_configuration_api.ModelConfigurationApi", "modelcatalog.api.model_configuration_api.ModelConfigurationApi.modelconfigurations_get", "print"], "store_vars_calls": {"api_instance": "ModelConfigurationApi", "configs": "api_instance.modelconfigurations_get"}}, "getAllModelConfigurationSetups": {"returns": [["configs"]], "min_max_lineno": {"min_lineno": 31, "max_lineno": 40}, "calls": ["modelcatalog.api.model_configuration_setup_api.ModelConfigurationSetupApi", "modelcatalog.api.model_configuration_setup_api.ModelConfigurationSetupApi.modelconfigurationsetups_get", "print"], "store_vars_calls": {"api_instance": "ModelConfigurationSetupApi", "configs": "api_instance.modelconfigurationsetups_get"}}, "getModelConfigurationDetails": {"args": ["config_id"], "returns": [["config"]], "min_max_lineno": {"min_lineno": 43, "max_lineno": 51}, "calls": ["modelcatalog.api.model_configuration_setup_api.ModelConfigurationSetupApi", "modelcatalog.api.model_configuration_setup_api.ModelConfigurationSetupApi.custom_modelconfigurationsetups_id_get", "cromo.constants.getLocalName", "print"], "store_vars_calls": {"api_instance": "ModelConfigurationSetupApi", "config": "api_instance.custom_modelconfigurationsetups_id_get"}}, "getModelRulesFromFile": {"args": ["configid", "rulesdir"], "returns": [["rules"]], "min_max_lineno": {"min_lineno": 53, "max_lineno": 63}, "calls": ["open", "fd.read", "model_catalog.splitModelRulesString", "cromo.constants.getLocalName"], "store_vars_calls": {"rulestring": "fd.read", "rules": "splitModelRulesString"}}, "getModelRulesFromConfig": {"args": ["config"], "returns": [["rules"]], "min_max_lineno": {"min_lineno": 64, "max_lineno": 71}, "calls": ["rules.extend", "model_catalog.splitModelRulesString"]}, "splitModelRulesString": {"args": ["rules_string"], "returns": [["rules"]], "min_max_lineno": {"min_lineno": 72, "max_lineno": 87}, "calls": ["rules_string.splitlines", "rule.strip", "re.match", "currule.strip", "rules.append", "rules.append"], "store_vars_calls": {"srule": "rule.strip"}}, "searchFunctionArguments": {"args": ["fn", "rule"], "returns": [["args"]], "min_max_lineno": {"min_lineno": 94, "max_lineno": 103}, "calls": ["len", "args[].append"]}, "parseModelRule": {"args": ["rule"], "returns": [["ruleinputs"]], "min_max_lineno": {"min_lineno": 104, "max_lineno": 131}, "calls": ["model_catalog.searchFunctionArguments", "model_catalog.searchFunctionArguments", "model_catalog.searchFunctionArguments", "model_catalog.searchFunctionArguments", "searchFunctionArguments.items", "ruleinputs.append"], "store_vars_calls": {"inputargs": "searchFunctionArguments", "labelargs": "searchFunctionArguments", "bindingargs": "searchFunctionArguments", "varargs": "searchFunctionArguments"}}, "getDerivedVariableValues": {"args": ["config", "input_type", "input_urls", "derived_variable", "region_geojson", "start_date", "end_date"], "min_max_lineno": {"min_lineno": 134, "max_lineno": 150}, "calls": ["fn"], "store_vars_calls": {"res": "fn"}}, "runExecutionRules": {"args": ["onto", "rules"], "min_max_lineno": {"min_lineno": 152, "max_lineno": 157}, "calls": ["owlready2.Imp", "owlready2.Imp.set_as_rule"], "store_vars_calls": {"rule": "Imp"}}, "checkConfigViability": {"args": ["configId", "region_geojson", "start_date", "end_date", "rulesdir", "ontdir"], "returns": [["return_values"]], "min_max_lineno": {"min_lineno": 169, "max_lineno": 379}, "calls": ["print", "model_catalog.getModelConfigurationDetails", "model_catalog.getModelRulesFromConfig", "print", "owlready2.get_ontology().load", "print", "list", "list", "list", "len", "owlready2.onto_path.append", "input_djmvs.keys", "input_djmvs.values", "itertools.product", "range", "input_djmv_combos.append", "len", "print", "print", "input_djmv_combo.items", "owlready2.get_ontology().load", "owlready2.get_ontology", "owlready2.Imp", "owlready2.Imp.set_as_rule", "model_catalog.parseModelRule", "len", "print", "get_ontology().load.ModelExecution", "input_djmv_combo.items", "owlready2.sync_reasoner_pellet", "print", "return_values.append", "get_ontology().load.destroy", "len", "print", "print", "cromo.catalogs.data_catalog.getMatchingDatasets", "print", "owlready2.get_ontology", "owlready2.Imp", "owlready2.Imp.set_as_rule", "copy.deepcopy", "get_ontology().load.ModelInput", "onto.ModelExecution.hasModelInput.append", "get_ontology().load.DataBinding", "onto.ModelInput.hasDataBinding.append", "djmv[].items", "return_djmv_combo.append", "print", "print", "print", "print", "print", "print", "relevant_input_variables[].append", "len", "print", "get_ontology().load.Variable", "onto.DataBinding.hasVariable.append", "return_derived_variables.append", "print", "print", "variables.append", "len", "print", "print", "cromo.catalogs.data_catalog.getMatchingDatasetResources", "print", "list", "print", "derived_variable_values.items", "djmvs.append", "map", "len", "print", "print", "len", "str", "model_catalog.getDerivedVariableValues", "derived_variable_values.update"], "store_vars_calls": {"config": "getModelConfigurationDetails", "rules": "getModelRulesFromConfig", "onto": "get_ontology().load", "keys": "list", "values": "getDerivedVariableValues", "products": "list", "rule": "Imp", "ruleinputs": "parseModelRule", "exobj": "onto.ModelExecution", "datasets": "getMatchingDatasets", "return_djmv": "copy.deepcopy", "inobj": "onto.ModelInput", "dsobj": "onto.DataBinding", "dvarobj": "onto.Variable", "resources": "getMatchingDatasetResources", "resource_urls": "list"}}}, "body": {"calls": ["modelcatalog.api_client.ApiClient", "modelcatalog.configuration.Configuration", "owlready2.onto_path.append"], "store_vars_calls": {"MC_API_CLIENT": "api_client.ApiClient"}}, "is_test": false}