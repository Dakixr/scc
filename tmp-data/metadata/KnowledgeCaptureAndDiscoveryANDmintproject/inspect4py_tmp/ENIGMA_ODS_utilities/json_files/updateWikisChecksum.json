{"file": {"path": "/Users/dakixr/Desktop/github/scc/tmp-data/metadata/KnowledgeCaptureAndDiscoveryANDmintproject/ENIGMA_ODS_utilities/updateWikisChecksum.py", "fileNameBase": "updateWikisChecksum", "extension": "py"}, "dependencies": [{"import": "hashlib", "type": "external"}, {"import": "json", "type": "external"}, {"import": "requests", "type": "external"}, {"import": "re", "type": "external"}, {"from_module": "termcolor", "import": "colored", "type": "external"}], "classes": {"SessionWithUrlBase": {"extend": ["requests.Session"], "min_max_lineno": {"min_lineno": 25, "max_lineno": 33}, "methods": {"__init__": {"args": ["self", "url_base"], "min_max_lineno": {"min_lineno": 26, "max_lineno": 29}, "calls": ["requests.Session.__init__"]}, "request": {"args": ["self", "method", "url"], "min_max_lineno": {"min_lineno": 30, "max_lineno": 33}, "calls": ["super().request"]}}}}, "functions": {"check_all_files": {"args": ["generalConf"], "min_max_lineno": {"min_lineno": 35, "max_lineno": 108}, "calls": ["updateWikisChecksum.createSparqlSession", "updateWikisChecksum.createWikiBotSession", "updateWikisChecksum.getCSRFToken", "updateWikisChecksum.getUpdatePageF", "updateWikisChecksum.getAllFiles", "print", "print", "print", "len", "print", "termcolor.colored", "print", "pagename.endswith", "updateWikisChecksum.getExternalFileHash", "termcolor.colored", "entry[].split", "updateWikisChecksum.check_all_files.printerror"], "store_vars_calls": {"sparqlSession": "createSparqlSession", "botSession": "createWikiBotSession", "tkn": "getCSRFToken", "updatePage": "getUpdatePageF", "wikiEntries": "getAllFiles", "newNameLen": "len", "cst": "colored", "nHash": "getExternalFileHash", "content": "getWikiContent", "newContent": "re.sub"}, "functions": {"printline": {"args": ["st", "pname", "fhash"], "min_max_lineno": {"min_lineno": 53, "max_lineno": 63}, "calls": ["print", "termcolor.colored", "termcolor.colored", "termcolor.colored", "len"], "store_vars_calls": {"cst": "colored"}}, "printerror": {"args": ["pname", "fname"], "min_max_lineno": {"min_lineno": 64, "max_lineno": 68}, "calls": ["termcolor.colored", "print", "len"], "store_vars_calls": {"cst": "colored"}}}}, "createSparqlSession": {"args": ["conf"], "returns": [["sparqlSession"]], "min_max_lineno": {"min_lineno": 109, "max_lineno": 113}, "calls": ["updateWikisChecksum.SessionWithUrlBase"], "store_vars_calls": {"sparqlSession": "SessionWithUrlBase"}}, "createWikiBotSession": {"args": ["conf"], "returns": [["botSession"]], "min_max_lineno": {"min_lineno": 114, "max_lineno": 137}, "calls": ["updateWikisChecksum.SessionWithUrlBase", "SessionWithUrlBase.get().json", "SessionWithUrlBase.post().json", "SessionWithUrlBase.get", "SessionWithUrlBase.post"], "store_vars_calls": {"botSession": "SessionWithUrlBase", "loginTokenRes": "botSession.get().json"}}, "getAllFiles": {"args": ["sparql", "wikiurl"], "returns": [["query_results"]], "min_max_lineno": {"min_lineno": 138, "max_lineno": 165}, "calls": ["sparql.post", "json.loads", "set", "set.add", "query_results.append"], "store_vars_calls": {"response": "sparql.post", "res": "json.loads", "revised_pages": "set"}}, "getExternalFileHash": {"args": ["fileurl"], "returns": [["digest"]], "min_max_lineno": {"min_lineno": 166, "max_lineno": 180}, "calls": ["hashlib.sha1", "hashlib.sha1.hexdigest", "requests.get", "r.raise_for_status", "r.iter_content", "print", "hashlib.sha1.update"], "store_vars_calls": {"sha": "hashlib.sha1", "digest": "sha.hexdigest"}}, "getCSRFToken": {"args": ["session"], "min_max_lineno": {"min_lineno": 181, "max_lineno": 191}, "calls": ["session.get", "session.get.json"], "store_vars_calls": {"response": "session.get", "DATA": "response.json"}}, "getWikiContent": {"args": ["session", "page"], "min_max_lineno": {"min_lineno": 192, "max_lineno": 205}, "calls": ["session.get", "session.get.json"], "store_vars_calls": {"response": "session.get", "DATA": "response.json"}}, "getUpdatePageF": {"args": ["session", "token"], "returns": [["_updatePage"]], "min_max_lineno": {"min_lineno": 206, "max_lineno": 220}, "calls": ["session.post", "session.post.json", "updateWikisChecksum.getUpdatePageF._getEditParams"], "store_vars_calls": {"req": "session.post", "data": "req.json"}, "functions": {"_getEditParams": {"args": ["page", "append"], "min_max_lineno": {"min_lineno": 207, "max_lineno": 215}}, "_updatePage": {"args": ["page", "content"], "min_max_lineno": {"min_lineno": 216, "max_lineno": 219}, "calls": ["session.post", "session.post.json", "_getEditParams"], "store_vars_calls": {"req": "session.post", "data": "req.json"}}}}}, "is_test": false}