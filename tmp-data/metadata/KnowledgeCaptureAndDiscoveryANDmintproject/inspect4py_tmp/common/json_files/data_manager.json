{"file": {"path": "/Users/dakixr/Desktop/github/scc/tmp-data/metadata/KnowledgeCaptureAndDiscoveryANDmintproject/P4ML-UI/dsbox-ta2/python/dsbox/planner/common/data_manager.py", "fileNameBase": "data_manager", "extension": "py"}, "dependencies": [{"import": "os", "type": "external"}, {"import": "sys", "type": "external"}, {"import": "json", "type": "external"}, {"import": "copy", "type": "external"}, {"import": "inspect", "type": "external"}, {"import": "warnings", "type": "external"}, {"import": "importlib", "type": "external"}, {"import": "numpy", "alias": "np", "type": "external"}, {"import": "pandas", "alias": "pd", "type": "external"}, {"import": "multiprocessing", "type": "external"}, {"from_module": "multiprocessing", "import": "Pool", "type": "external"}, {"from_module": "dsbox.schema.dataset_schema", "import": "VariableFileType", "type": "external"}], "classes": {"DataManager": {"extend": ["object"], "min_max_lineno": {"min_lineno": 21, "max_lineno": 181}, "methods": {"initialize_data": {"args": ["self", "problem", "datasets", "view"], "min_max_lineno": {"min_lineno": 39, "max_lineno": 153}, "calls": ["print", "sys.stdout.flush", "data_manager.DataManager._get_datasplits", "problem.dataset_targets.items", "problem.dataset_filters.items", "pandas.DataFrame", "pandas.DataFrame", "dataframes.items", "dataframes.items", "dsmap[].resolve_references", "resdfs.items", "restargets.items", "dsbox.schema.dataset_schema.VariableFileType", "pandas.concat", "list", "list", "restargets[].append", "len", "resfilters.items", "pandas.concat", "map", "map", "resfilters[].append", "data_manager.DataManager.target_columns.append", "dsbox.schema.dataset_schema.VariableFileType", "type", "list", "copy.copy", "resource.df.drop", "map", "type", "list", "copy.copy", "data_manager.DataManager.input_columns.append", "map", "list.remove"], "store_vars_calls": {"splits_df": "self._get_datasplits", "self.input_data": "pd.concat", "self.target_data": "pd.concat", "self.media_type": "VariableFileType", "self.input_data.columns": "list", "self.target_data.columns": "list", "target_cols": "list", "targetdf": "copy.copy", "filter_cols": "list", "resource.df": "copy.copy"}}, "_get_datasplits": {"doc": {"short_description": "Returns the data splits in a dataframe"}, "args": ["self", "problem", "view"], "returns": [["df"], ["df"], ["df"]], "min_max_lineno": {"min_lineno": 155, "max_lineno": 170}, "calls": ["pandas.read_csv", "view.upper", "view.upper"], "store_vars_calls": {"df": "pd.read_csv"}}, "_get_target_columns": {"args": ["self", "df", "targets"], "returns": [["target_cols"]], "min_max_lineno": {"min_lineno": 171, "max_lineno": 181}, "calls": ["range", "len", "target_cols.append", "str"]}}}, "Dataset": {"doc": {"long_description": "It contains a list of data resources", "short_description": "The Dataset class", "full": "The Dataset class\nIt contains a list of data resources"}, "extend": ["object"], "min_max_lineno": {"min_lineno": 182, "max_lineno": 263}, "methods": {"load_dataset": {"args": ["self", "datasetPath", "datasetDoc"], "min_max_lineno": {"min_lineno": 195, "max_lineno": 219}, "calls": ["os.path.exists", "data_manager.Dataset.load_resources", "os.path.join", "open", "json.load", "warnings.warn", "data_manager.DataResource.initialize"], "store_vars_calls": {"datasetDoc": "os.path.join", "self.dsDoc": "json.load", "resource": "DataResource.initialize"}}, "load_resources": {"args": ["self"], "min_max_lineno": {"min_lineno": 220, "max_lineno": 227}, "calls": ["data_manager.Dataset.resources.items", "res.load", "type", "res.resPath.endswith"]}, "resolve_references": {"args": ["self"], "min_max_lineno": {"min_lineno": 231, "max_lineno": 250}, "calls": ["data_manager.Dataset.resources.items", "references.items", "refmap.items", "type", "data_manager.Dataset.load_reference", "col.get", "data_manager.Dataset.resources.get", "data_manager.Reference"], "store_vars_calls": {"referobj": "col.get", "tores": "self.resources.get", "reference": "Reference"}}, "load_reference": {"args": ["self", "reference", "references"], "min_max_lineno": {"min_lineno": 251, "max_lineno": 263}, "calls": ["tores.join_with", "type", "data_manager.Dataset.load_reference"]}}}, "DataResource": {"doc": {"short_description": "The resource contains the actual data. It could of various types", "full": "The resource contains the actual data. It could of various types"}, "extend": ["object"], "min_max_lineno": {"min_lineno": 265, "max_lineno": 306}, "methods": {"__init__": {"args": ["self", "resID", "resPath", "resType", "resFormat"], "min_max_lineno": {"min_lineno": 269, "max_lineno": 275}}, "load": {"args": ["self"], "min_max_lineno": {"min_lineno": 279, "max_lineno": 281}}, "join_with": {"args": ["self", "resource", "reference"], "min_max_lineno": {"min_lineno": 286, "max_lineno": 288}, "calls": ["type"]}, "initialize": {"args": ["obj", "dsHome"], "min_max_lineno": {"min_lineno": 289, "max_lineno": 306}, "calls": ["os.path.join", "data_manager.TableResource", "data_manager.TextResource", "data_manager.ImageResource", "data_manager.AudioResource", "data_manager.GraphResource"], "store_vars_calls": {"resPath": "os.path.join"}}}}, "TableResource": {"doc": {"short_description": "This contains tabular data (csv)", "full": "This contains tabular data (csv)"}, "extend": ["DataResource"], "min_max_lineno": {"min_lineno": 307, "max_lineno": 394}, "methods": {"__init__": {"args": ["self", "resID", "resPath", "resType", "resFormat", "columns"], "min_max_lineno": {"min_lineno": 316, "max_lineno": 319}, "calls": ["data_manager.DataResource.__init__", "data_manager.TableResource.initialize_columns"]}, "initialize_columns": {"args": ["self", "columns"], "min_max_lineno": {"min_lineno": 320, "max_lineno": 331}, "calls": ["sorted", "index_hash.keys"]}, "load": {"args": ["self"], "min_max_lineno": {"min_lineno": 332, "max_lineno": 335}, "calls": ["pandas.read_csv", "copy.copy"], "store_vars_calls": {"self.df": "pd.read_csv", "self.orig_df": "copy.copy"}}, "join_with": {"args": ["self", "resource", "reference"], "min_max_lineno": {"min_lineno": 336, "max_lineno": 365}, "calls": ["data_manager.TableResource.update_columns", "resource.df.merge", "type"], "store_vars_calls": {"resource.df": "resource.df.merge"}}, "get_boundary_columns": {"args": ["self"], "returns": [["boundary_columns"]], "min_max_lineno": {"min_lineno": 366, "max_lineno": 372}, "calls": ["boundary_columns.append"]}, "get_column_values": {"args": ["self", "row", "columns"], "returns": [["values"]], "min_max_lineno": {"min_lineno": 373, "max_lineno": 378}, "calls": ["values.append"]}, "update_columns": {"args": ["self", "resource", "rescol", "refres", "refcol"], "min_max_lineno": {"min_lineno": 379, "max_lineno": 394}, "calls": ["resource.initialize_columns", "columns.append", "columns.append"]}}}, "RawResource": {"doc": {"short_description": "This contains a collection of raw files like images, audio, text, etc", "full": "This contains a collection of raw files like images, audio, text, etc"}, "extend": ["DataResource"], "min_max_lineno": {"min_lineno": 396, "max_lineno": 445}, "methods": {"__init__": {"args": ["self", "resID", "resPath", "resType", "resFormat", "numcpus"], "min_max_lineno": {"min_lineno": 402, "max_lineno": 408}, "calls": ["data_manager.DataResource.__init__", "multiprocessing.Pool", "multiprocessing.cpu_count"], "store_vars_calls": {"RawResource.LOADING_POOL": "Pool", "numcpus": "multiprocessing.cpu_count"}}, "load": {"args": ["self"], "min_max_lineno": {"min_lineno": 409, "max_lineno": 412}}, "load_resource": {"args": ["self", "filepath", "boundary_values"], "min_max_lineno": {"min_lineno": 416, "max_lineno": 418}}, "unserialize_resource": {"args": ["self", "value"], "returns": [["value"]], "min_max_lineno": {"min_lineno": 422, "max_lineno": 424}}, "join_with": {"args": ["self", "resource", "reference"], "min_max_lineno": {"min_lineno": 425, "max_lineno": 443}, "calls": ["resource.get_boundary_columns", "resource.df.iterrows", "resource.df[].astype", "type", "os.path.join", "resource.get_column_values", "RawResource.LOADING_POOL.apply_async", "loadrefs.append", "loadref[].get", "print", "sys.stdout.flush", "data_manager.RawResource.unserialize_resource"], "store_vars_calls": {"boundary_columns": "resource.get_boundary_columns", "filepath": "os.path.join", "boundary_values": "resource.get_column_values", "ref": "RawResource.LOADING_POOL.apply_async", "value": "loadref[].get"}}}}, "TextResource": {"doc": {"short_description": "A collection of text files", "full": "A collection of text files"}, "extend": ["RawResource"], "min_max_lineno": {"min_lineno": 454, "max_lineno": 469}, "methods": {"__init__": {"args": ["self", "resID", "resPath", "resType", "resFormat"], "min_max_lineno": {"min_lineno": 458, "max_lineno": 460}, "calls": ["data_manager.RawResource.__init__"]}, "load": {"args": ["self"], "min_max_lineno": {"min_lineno": 461, "max_lineno": 464}}, "load_resource": {"args": ["self", "filepath", "boundary_values"], "returns": [["txt"]], "min_max_lineno": {"min_lineno": 465, "max_lineno": 469}, "calls": ["open", "filepath.read"], "store_vars_calls": {"txt": "filepath.read"}}}}, "ImageResource": {"doc": {"short_description": "ImageResource: A collection of image files", "full": "ImageResource: A collection of image files"}, "extend": ["RawResource"], "min_max_lineno": {"min_lineno": 470, "max_lineno": 489}, "methods": {"__init__": {"args": ["self", "resID", "resPath", "resType", "resFormat"], "min_max_lineno": {"min_lineno": 474, "max_lineno": 478}, "calls": ["importlib.import_module", "importlib.import_module", "data_manager.RawResource.__init__"], "store_vars_calls": {"self.keras_image": "importlib.import_module", "self.pil_image": "importlib.import_module"}}, "load": {"args": ["self"], "min_max_lineno": {"min_lineno": 479, "max_lineno": 482}}, "load_resource": {"args": ["self", "filepath", "boundary_values"], "min_max_lineno": {"min_lineno": 483, "max_lineno": 486}, "calls": ["data_manager.ImageResource.keras_image.load_img", "dict", "data_manager.ImageResource.tobytes"], "store_vars_calls": {"im": "self.keras_image.load_img"}}, "unserialize_resource": {"args": ["self", "value"], "min_max_lineno": {"min_lineno": 487, "max_lineno": 489}, "calls": ["data_manager.ImageResource.pil_image.frombytes"]}}}, "AudioResource": {"doc": {"short_description": "AudioResource: A collection of audio files", "full": "AudioResource: A collection of audio files"}, "extend": ["RawResource"], "min_max_lineno": {"min_lineno": 490, "max_lineno": 517}, "methods": {"__init__": {"args": ["self", "resID", "resPath", "resType", "resFormat"], "min_max_lineno": {"min_lineno": 494, "max_lineno": 497}, "calls": ["importlib.import_module", "data_manager.RawResource.__init__"], "store_vars_calls": {"self.librosa": "importlib.import_module"}}, "load": {"args": ["self"], "min_max_lineno": {"min_lineno": 498, "max_lineno": 501}}, "load_resource": {"args": ["self", "filepath", "boundary_values"], "min_max_lineno": {"min_lineno": 502, "max_lineno": 517}, "calls": ["len", "float", "float", "data_manager.AudioResource.librosa.load"], "store_vars_calls": {"start": "float", "end": "float"}}}}, "GraphResource": {"extend": ["DataResource"], "min_max_lineno": {"min_lineno": 519, "max_lineno": 537}, "methods": {"__init__": {"args": ["self", "resID", "resPath", "resType", "resFormat"], "min_max_lineno": {"min_lineno": 522, "max_lineno": 525}, "calls": ["importlib.import_module", "data_manager.DataResource.__init__"], "store_vars_calls": {"self.networkx": "importlib.import_module"}}, "load": {"args": ["self"], "min_max_lineno": {"min_lineno": 529, "max_lineno": 531}, "calls": ["data_manager.GraphResource.networkx.read_gml"], "store_vars_calls": {"self.graph": "self.networkx.read_gml"}}, "join_with": {"args": ["self", "resource", "reference"], "min_max_lineno": {"min_lineno": 532, "max_lineno": 537}, "calls": ["type"]}}}, "Reference": {"doc": {"short_description": "Used to define a reference from one resource to another", "full": "Used to define a reference from one resource to another"}, "extend": ["object"], "min_max_lineno": {"min_lineno": 550, "max_lineno": 575}, "methods": {"__init__": {"args": ["self", "fromres", "fromcol", "tores", "toref"], "min_max_lineno": {"min_lineno": 560, "max_lineno": 565}}, "__repr__": {"args": ["self"], "min_max_lineno": {"min_lineno": 566, "max_lineno": 575}, "calls": ["type"]}}}}, "is_test": false}