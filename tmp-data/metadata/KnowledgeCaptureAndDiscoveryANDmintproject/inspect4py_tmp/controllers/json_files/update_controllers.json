{"file": {"path": "/Users/dakixr/Desktop/github/scc/tmp-data/metadata/KnowledgeCaptureAndDiscoveryANDmintproject/data-catalog/api/dcat_service/controllers/update_controllers.py", "fileNameBase": "update_controllers", "extension": "py"}, "dependencies": [{"import": "uuid", "type": "external"}, {"import": "sys", "type": "external"}, {"import": "traceback", "type": "external"}, {"import": "json", "type": "external"}, {"from_module": "dcat_service", "import": "session_scope", "type": "external"}, {"from_module": "dcat_service.models.dataset", "import": "Dataset", "type": "external"}, {"from_module": "dcat_service.models.resource", "import": "Resource", "type": "external"}, {"from_module": "dcat_service.models.variable", "import": "Variable", "type": "external"}, {"from_module": "dcat_service.models.standard_variable", "import": "StandardVariable", "type": "external"}, {"from_module": "dcat_service.misc.exception", "import": "BadRequestException", "type": "external"}, {"from_module": "dcat_service.misc.exception", "import": "InternalServerException", "type": "external"}, {"from_module": "sqlalchemy.orm.attributes", "import": "flag_modified", "type": "external"}], "functions": {"update_dataset_viz_status": {"args": ["update_definition"], "min_max_lineno": {"min_lineno": 18, "max_lineno": 50}, "calls": ["len", "dcat_service.misc.exception.BadRequestException", "dcat_service.misc.exception.BadRequestException", "dcat_service.misc.exception.BadRequestException", "uuid.UUID", "dcat_service.session_scope", "dcat_service.models.dataset.Dataset.find_by_record_id", "sqlalchemy.orm.attributes.flag_modified", "str", "dcat_service.misc.exception.BadRequestException", "dcat_service.misc.exception.BadRequestException"], "store_vars_calls": {"dataset": "Dataset.find_by_record_id"}}, "update_dataset_viz_config": {"args": ["update_definition"], "min_max_lineno": {"min_lineno": 52, "max_lineno": 88}, "calls": ["len", "dcat_service.misc.exception.BadRequestException", "dcat_service.misc.exception.BadRequestException", "dcat_service.misc.exception.BadRequestException", "dcat_service.misc.exception.BadRequestException", "uuid.UUID", "dcat_service.session_scope", "dcat_service.models.dataset.Dataset.find_by_record_id", "Dataset.find_by_record_id.json_metadata[].update", "sqlalchemy.orm.attributes.flag_modified", "str", "dcat_service.misc.exception.BadRequestException", "dcat_service.misc.exception.BadRequestException"], "store_vars_calls": {"dataset": "Dataset.find_by_record_id"}}, "update_dataset": {"args": ["update_definition"], "min_max_lineno": {"min_lineno": 90, "max_lineno": 168}, "calls": ["update_definition.get", "update_definition.get", "update_definition.get", "len", "dcat_service.misc.exception.BadRequestException", "dcat_service.misc.exception.BadRequestException", "uuid.UUID", "dcat_service.misc.exception.BadRequestException", "str", "dcat_service.misc.exception.BadRequestException", "isinstance", "dcat_service.session_scope", "dcat_service.models.dataset.Dataset.find_by_record_id", "traceback.print_exc", "dcat_service.misc.exception.InternalServerException", "set_query_part_arr.append", "update_controllers._get_change_record", "set_query_part_arr.append", "update_controllers._get_change_record", "isinstance", "metadata.update", "metadata.items", "set_query_part_arr.append", "update_controllers._get_change_record", "len", "update_query_arr.append", "update_query_arr.append", "print", "session.execute", "metadata.items", "keys_to_delete.append", "json.dumps"], "store_vars_calls": {"name": "update_definition.get", "description": "update_definition.get", "json_metadata": "update_definition.get", "dataset": "Dataset.find_by_record_id"}}, "update_resource": {"args": ["update_definition"], "min_max_lineno": {"min_lineno": 170, "max_lineno": 254}, "calls": ["update_definition.get", "update_definition.get", "update_definition.get", "update_definition.get", "len", "dcat_service.misc.exception.BadRequestException", "dcat_service.misc.exception.BadRequestException", "uuid.UUID", "dcat_service.misc.exception.BadRequestException", "str", "dcat_service.misc.exception.BadRequestException", "isinstance", "dcat_service.session_scope", "dcat_service.models.resource.Resource.find_by_record_id", "traceback.print_exc", "dcat_service.misc.exception.InternalServerException", "set_query_part_arr.append", "update_controllers._get_change_record", "set_query_part_arr.append", "update_controllers._get_change_record", "set_query_part_arr.append", "update_controllers._get_change_record", "isinstance", "metadata.update", "metadata.items", "set_query_part_arr.append", "update_controllers._get_change_record", "len", "update_query_arr.append", "update_query_arr.append", "print", "session.execute", "metadata.items", "keys_to_delete.append", "json.dumps"], "store_vars_calls": {"name": "update_definition.get", "json_metadata": "update_definition.get", "resource_type": "update_definition.get", "data_url": "update_definition.get", "resource": "Resource.find_by_record_id"}}, "update_variable": {"args": ["update_definition"], "min_max_lineno": {"min_lineno": 256, "max_lineno": 325}, "calls": ["update_definition.get", "update_definition.get", "len", "dcat_service.misc.exception.BadRequestException", "dcat_service.misc.exception.BadRequestException", "uuid.UUID", "dcat_service.misc.exception.BadRequestException", "str", "dcat_service.misc.exception.BadRequestException", "isinstance", "dcat_service.session_scope", "dcat_service.models.variable.Variable.find_by_record_id", "traceback.print_exc", "dcat_service.misc.exception.InternalServerException", "set_query_part_arr.append", "update_controllers._get_change_record", "isinstance", "metadata.update", "metadata.items", "set_query_part_arr.append", "update_controllers._get_change_record", "len", "update_query_arr.append", "update_query_arr.append", "print", "session.execute", "metadata.items", "keys_to_delete.append", "json.dumps"], "store_vars_calls": {"name": "update_definition.get", "json_metadata": "update_definition.get", "variable": "Variable.find_by_record_id"}}, "update_standard_variable": {"args": ["update_definition"], "min_max_lineno": {"min_lineno": 327, "max_lineno": 392}, "calls": ["update_definition.get", "update_definition.get", "update_definition.get", "update_definition.get", "len", "dcat_service.misc.exception.BadRequestException", "dcat_service.misc.exception.BadRequestException", "uuid.UUID", "str", "dcat_service.misc.exception.BadRequestException", "dcat_service.session_scope", "dcat_service.models.standard_variable.StandardVariable.find_by_record_id", "traceback.print_exc", "dcat_service.misc.exception.InternalServerException", "set_query_part_arr.append", "update_controllers._get_change_record", "set_query_part_arr.append", "update_controllers._get_change_record", "set_query_part_arr.append", "update_controllers._get_change_record", "set_query_part_arr.append", "update_controllers._get_change_record", "len", "update_query_arr.append", "update_query_arr.append", "print", "session.execute"], "store_vars_calls": {"name": "update_definition.get", "ontology": "update_definition.get", "uri": "update_definition.get", "description": "update_definition.get", "standard_variable": "StandardVariable.find_by_record_id"}}, "sync_datasets_metadata": {"returns": [["responses"]], "min_max_lineno": {"min_lineno": 394, "max_lineno": 404}, "calls": ["responses.append", "responses.append", "responses.append", "responses.append", "responses.append", "responses.append", "update_controllers._update_polygon_spatial_coverage_query", "update_controllers._update_polygon_point_coverage", "update_controllers._update_temporal_coverage", "update_controllers._update_resource_summary", "update_controllers._update_variables_list", "update_controllers._update_standard_variables_list"]}, "_update_polygon_spatial_coverage_query": {"min_max_lineno": {"min_lineno": 406, "max_lineno": 430}, "calls": ["dcat_service.session_scope", "session.execute"]}, "_update_polygon_point_coverage": {"min_max_lineno": {"min_lineno": 432, "max_lineno": 455}, "calls": ["dcat_service.session_scope", "session.execute"]}, "_update_temporal_coverage": {"min_max_lineno": {"min_lineno": 457, "max_lineno": 488}, "calls": ["dcat_service.session_scope", "session.execute"]}, "_update_resource_summary": {"min_max_lineno": {"min_lineno": 490, "max_lineno": 511}, "calls": ["dcat_service.session_scope", "session.execute"]}, "_update_variables_list": {"min_max_lineno": {"min_lineno": 513, "max_lineno": 532}, "calls": ["dcat_service.session_scope", "session.execute"]}, "_update_standard_variables_list": {"min_max_lineno": {"min_lineno": 534, "max_lineno": 555}, "calls": ["dcat_service.session_scope", "session.execute"]}, "sync_dataset_metadata": {"args": ["dsid"], "returns": [["responses"]], "min_max_lineno": {"min_lineno": 557, "max_lineno": 567}, "calls": ["responses.append", "responses.append", "responses.append", "responses.append", "responses.append", "responses.append", "update_controllers._update_polygon_spatial_coverage_query_ds", "update_controllers._update_polygon_point_coverage_ds", "update_controllers._update_temporal_coverage_ds", "update_controllers._update_resource_summary_ds", "update_controllers._update_variables_list_ds", "update_controllers._update_standard_variables_list_ds"]}, "_update_polygon_spatial_coverage_query_ds": {"args": ["dsid"], "min_max_lineno": {"min_lineno": 569, "max_lineno": 594}, "calls": ["dcat_service.session_scope", "session.execute"]}, "_update_polygon_point_coverage_ds": {"args": ["dsid"], "min_max_lineno": {"min_lineno": 596, "max_lineno": 620}, "calls": ["dcat_service.session_scope", "session.execute"]}, "_update_temporal_coverage_ds": {"args": ["dsid"], "min_max_lineno": {"min_lineno": 622, "max_lineno": 654}, "calls": ["dcat_service.session_scope", "session.execute"]}, "_update_resource_summary_ds": {"args": ["dsid"], "min_max_lineno": {"min_lineno": 656, "max_lineno": 678}, "calls": ["dcat_service.session_scope", "session.execute"]}, "_update_variables_list_ds": {"args": ["dsid"], "min_max_lineno": {"min_lineno": 680, "max_lineno": 700}, "calls": ["dcat_service.session_scope", "session.execute"]}, "_update_standard_variables_list_ds": {"args": ["dsid"], "min_max_lineno": {"min_lineno": 702, "max_lineno": 724}, "calls": ["dcat_service.session_scope", "session.execute"]}, "_get_change_record": {"args": ["old_value", "new_value"], "min_max_lineno": {"min_lineno": 726, "max_lineno": 728}}}, "is_test": false}