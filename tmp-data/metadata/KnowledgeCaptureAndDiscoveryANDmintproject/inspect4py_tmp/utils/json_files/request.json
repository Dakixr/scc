{"file": {"path": "/Users/dakixr/Desktop/github/scc/tmp-data/metadata/KnowledgeCaptureAndDiscoveryANDmintproject/provenance-api/server/openapi_server/utils/request.py", "fileNameBase": "request", "extension": "py"}, "dependencies": [{"import": "json", "type": "external"}, {"from_module": "typing", "import": "Dict", "type": "external"}, {"import": "uuid", "type": "external"}, {"import": "validators", "type": "external"}, {"from_module": "rdflib", "import": "Graph", "type": "external"}, {"from_module": "openapi_server", "import": "query_manager", "type": "external"}, {"from_module": "openapi_server.settings", "import": "ENDPOINT", "type": "external"}, {"from_module": "openapi_server.settings", "import": "PREFIX", "type": "external"}, {"from_module": "openapi_server.settings", "import": "GRAPH_BASE", "type": "external"}, {"from_module": "openapi_server", "import": "logger", "type": "external"}], "functions": {"generate_graph": {"args": ["username"], "min_max_lineno": {"min_lineno": 12, "max_lineno": 14}}, "get_resource": {"doc": {"short_description": "This method handles a GET METHOD", "returns": {"is_generator": false}}, "min_max_lineno": {"min_lineno": 16, "max_lineno": 28}, "calls": ["request.get_one_resource", "request.get_all_resource"]}, "get_one_resource": {"doc": {"short_description": "Handles a GET method to get one resource", "returns": {"is_generator": false}}, "min_max_lineno": {"min_lineno": 30, "max_lineno": 57}, "calls": ["request.build_instance_uri", "request.generate_graph", "openapi_server.query_manager.obtain_query", "kls.from_dict", "openapi_server.logger.error"], "store_vars_calls": {"response": "query_manager.obtain_query"}}, "get_all_resource": {"doc": {"short_description": "Handles a GET method to get all resource by rdf_type", "returns": {"is_generator": false}}, "returns": [["items"]], "min_max_lineno": {"min_lineno": 59, "max_lineno": 96}, "calls": ["request.generate_graph", "openapi_server.logger.debug", "openapi_server.query_manager.obtain_query", "items.append", "openapi_server.logger.error", "kls.from_dict"], "store_vars_calls": {"response": "query_manager.obtain_query"}}, "put_resource": {"returns": [["body"]], "min_max_lineno": {"min_lineno": 98, "max_lineno": 135}, "calls": ["request.build_instance_uri", "request.prepare_jsonld", "request.get_insert_query", "openapi_server.query_manager.insert_query", "request.generate_graph", "openapi_server.query_manager.delete_query", "request.generate_graph", "openapi_server.logger.error"], "store_vars_calls": {"resource_uri": "build_instance_uri", "body_json": "prepare_jsonld"}}, "convert_json_to_triples": {"args": ["body"], "returns": [["prefixes", "triples"]], "min_max_lineno": {"min_lineno": 137, "max_lineno": 143}, "calls": ["request.prepare_jsonld", "request.get_insert_query"], "store_vars_calls": {"body_json": "prepare_jsonld"}}, "delete_resource": {"min_max_lineno": {"min_lineno": 145, "max_lineno": 158}, "calls": ["request.build_instance_uri", "openapi_server.query_manager.delete_query", "request.generate_graph", "openapi_server.logger.error"], "store_vars_calls": {"resource_uri": "build_instance_uri"}}, "post_resource": {"doc": {"short_description": "Post a resource and generate the id", "returns": {"is_generator": false}}, "returns": [["body"]], "min_max_lineno": {"min_lineno": 160, "max_lineno": 195}, "calls": ["request.generate_new_uri", "request.prepare_jsonld", "request.get_insert_query", "openapi_server.query_manager.insert_query", "body.type.append", "request.generate_graph", "openapi_server.logger.error"], "store_vars_calls": {"body.id": "generate_new_uri", "body_json": "prepare_jsonld"}}, "get_insert_query": {"args": ["resource_json"], "returns": [["prefixes", "triples"]], "min_max_lineno": {"min_lineno": 197, "max_lineno": 209}, "calls": ["rdflib.Graph().parse", "Graph().parse.serialize", "Graph().parse.namespace_manager.namespaces", "g.serialize.decode().split", "prefixes.append", "rdflib.Graph", "g.serialize.decode", "line.startswith", "triples.append"], "store_vars_calls": {"g": "Graph().parse", "s": "g.serialize"}}, "build_instance_uri": {"args": ["uri"], "returns": [["uri"]], "min_max_lineno": {"min_lineno": 211, "max_lineno": 215}, "calls": ["validators.url"]}, "generate_new_uri": {"min_max_lineno": {"min_lineno": 216, "max_lineno": 218}, "calls": ["str", "uuid.uuid4"]}, "prepare_jsonld": {"args": ["resource"], "returns": [["resource_json"]], "min_max_lineno": {"min_lineno": 219, "max_lineno": 225}, "calls": ["resource.to_dict", "request.build_instance_uri", "json.dumps"], "store_vars_calls": {"resource_dict": "resource.to_dict", "resource_json": "json.dumps"}}}, "is_test": false}