{"file": {"path": "/Users/dakixr/Desktop/github/scc/tmp-data/metadata/KnowledgeCaptureAndDiscoveryANDmintproject/topoflow36/topoflow/utils/BMI_base.py", "fileNameBase": "BMI_base", "extension": "py"}, "dependencies": [{"import": "numpy", "alias": "np", "type": "external"}, {"import": "os", "type": "external"}, {"import": "os", "type": "external"}, {"import": "sys", "type": "external"}, {"import": "time", "type": "external"}, {"import": "traceback", "type": "external"}, {"import": "outlets", "type": "internal"}, {"import": "pixels", "type": "internal"}, {"import": "rti_files", "type": "internal"}, {"import": "tf_utils", "type": "internal"}, {"import": "time_utils", "type": "internal"}], "classes": {"BMI_component": {"min_max_lineno": {"min_lineno": 196, "max_lineno": 2425}, "methods": {"__init__": {"args": ["self"], "min_max_lineno": {"min_lineno": 198, "max_lineno": 216}}, "get_status": {"args": ["self"], "min_max_lineno": {"min_lineno": 225, "max_lineno": 236}}, "get_attribute": {"args": ["self", "att_name"], "min_max_lineno": {"min_lineno": 239, "max_lineno": 268}, "calls": ["att_name.lower", "print", "print", "print", "print"]}, "get_grid_shape": {"args": ["self", "long_var_name"], "returns": [["shape"]], "min_max_lineno": {"min_lineno": 283, "max_lineno": 305}, "calls": ["numpy.array", "hasattr", "BMI_base.BMI_component.read_grid_info"], "store_vars_calls": {"shape": "np.array"}}, "get_grid_spacing": {"args": ["self", "long_var_name"], "returns": [["spacing"]], "min_max_lineno": {"min_lineno": 308, "max_lineno": 328}, "calls": ["numpy.array", "hasattr", "BMI_base.BMI_component.read_grid_info"], "store_vars_calls": {"spacing": "np.array"}}, "get_grid_origin": {"args": ["self", "long_var_name"], "returns": [["corner"]], "min_max_lineno": {"min_lineno": 331, "max_lineno": 346}, "calls": ["numpy.array", "hasattr", "BMI_base.BMI_component.read_grid_info"], "store_vars_calls": {"corner": "np.array"}}, "get_grid_attribute": {"args": ["self", "long_var_name", "att_name"], "min_max_lineno": {"min_lineno": 349, "max_lineno": 363}, "calls": ["att_name.lower", "print", "print", "print", "print"]}, "read_grid_info": {"args": ["self"], "min_max_lineno": {"min_lineno": 366, "max_lineno": 436}, "calls": ["rti_files.read_info", "pixels.get_da", "print", "print", "print", "print", "print", "print", "print", "print", "print", "rti_files.read_info", "print", "print", "sys.exit"], "store_vars_calls": {"info": "rti_files.read_info", "self.da": "pixels.get_da"}}, "get_input_var_names": {"args": ["self"], "min_max_lineno": {"min_lineno": 440, "max_lineno": 453}, "calls": ["numpy.array"]}, "get_output_var_names": {"args": ["self"], "min_max_lineno": {"min_lineno": 456, "max_lineno": 463}, "calls": ["numpy.array"]}, "get_var_name": {"args": ["self", "long_var_name"], "min_max_lineno": {"min_lineno": 466, "max_lineno": 477}}, "get_var_units": {"args": ["self", "long_var_name"], "min_max_lineno": {"min_lineno": 601, "max_lineno": 625}, "calls": ["BMI_base.BMI_component.get_var_name"], "store_vars_calls": {"var_name": "self.get_var_name"}}, "get_var_rank": {"args": ["self", "long_var_name"], "returns": [["rank"]], "min_max_lineno": {"min_lineno": 628, "max_lineno": 642}, "calls": ["BMI_base.BMI_component.get_var_name", "eval"], "store_vars_calls": {"var_name": "self.get_var_name", "rank": "eval"}}, "get_var_type": {"args": ["self", "long_var_name"], "min_max_lineno": {"min_lineno": 647, "max_lineno": 665}, "calls": ["BMI_base.BMI_component.get_var_name", "str", "eval"], "store_vars_calls": {"var_name": "self.get_var_name", "dtype": "eval"}}, "get_var_itemsize": {"args": ["self", "long_var_name"], "returns": [["itemsize"]], "min_max_lineno": {"min_lineno": 677, "max_lineno": 689}, "calls": ["BMI_base.BMI_component.get_var_name", "eval"], "store_vars_calls": {"var_name": "self.get_var_name", "itemsize": "eval"}}, "get_var_nbytes": {"args": ["self", "long_var_name"], "returns": [["nbytes"]], "min_max_lineno": {"min_lineno": 692, "max_lineno": 704}, "calls": ["BMI_base.BMI_component.get_var_name", "eval"], "store_vars_calls": {"var_name": "self.get_var_name", "nbytes": "eval"}}, "get_values": {"args": ["self", "long_var_name"], "returns": [["value"]], "min_max_lineno": {"min_lineno": 707, "max_lineno": 759}, "calls": ["BMI_base.BMI_component.get_var_name", "getattr", "print", "print", "print", "BMI_base.BMI_component.get_var_type", "numpy.array", "setattr"], "store_vars_calls": {"var_name": "self.get_var_name", "dtype": "self.get_var_type", "value": "np.array"}}, "set_values": {"args": ["self", "long_var_name", "value"], "min_max_lineno": {"min_lineno": 762, "max_lineno": 776}, "calls": ["BMI_base.BMI_component.get_var_name", "setattr"], "store_vars_calls": {"var_name": "self.get_var_name"}}, "get_values_at_indices": {"args": ["self", "long_var_name", "IDs"], "min_max_lineno": {"min_lineno": 779, "max_lineno": 804}, "calls": ["BMI_base.BMI_component.get_var_name", "getattr", "numpy.array", "print", "print", "BMI_base.BMI_component.get_var_type", "numpy.zeros", "len"], "store_vars_calls": {"var_name": "self.get_var_name", "result": "getattr", "dtype": "self.get_var_type"}}, "set_values_at_indices": {"args": ["self", "long_var_name", "IDs", "values"], "min_max_lineno": {"min_lineno": 807, "max_lineno": 816}, "calls": ["BMI_base.BMI_component.get_var_name", "setattr"], "store_vars_calls": {"var_name": "self.get_var_name"}}, "get_time_step": {"args": ["self"], "min_max_lineno": {"min_lineno": 821, "max_lineno": 824}, "calls": ["numpy.float64"]}, "get_time_units": {"args": ["self"], "returns": [["unit_str"]], "min_max_lineno": {"min_lineno": 827, "max_lineno": 839}, "calls": ["BMI_base.BMI_component.get_attribute"], "store_vars_calls": {"unit_str": "self.get_attribute"}}, "get_start_time": {"args": ["self"], "min_max_lineno": {"min_lineno": 843, "max_lineno": 852}, "calls": ["numpy.float64"]}, "get_current_time": {"args": ["self"], "min_max_lineno": {"min_lineno": 855, "max_lineno": 858}}, "get_end_time": {"args": ["self"], "min_max_lineno": {"min_lineno": 861, "max_lineno": 888}, "calls": ["hasattr", "BMI_base.BMI_component.get_attribute", "hasattr", "numpy.float64", "hasattr", "numpy.float64", "print", "print", "print", "print", "numpy.float64"], "store_vars_calls": {"dt_type": "self.get_attribute"}}, "initialize": {"args": ["self", "cfg_file", "mode"], "min_max_lineno": {"min_lineno": 938, "max_lineno": 971}, "calls": ["BMI_base.BMI_component.initialize_config_vars", "BMI_base.BMI_component.read_grid_info", "BMI_base.BMI_component.initialize_basin_vars", "BMI_base.BMI_component.initialize_time_vars", "BMI_base.BMI_component.open_input_files", "BMI_base.BMI_component.read_input_files"]}, "finalize": {"args": ["self"], "min_max_lineno": {"min_lineno": 1008, "max_lineno": 1014}, "calls": ["BMI_base.BMI_component.close_input_files", "BMI_base.BMI_component.close_output_files"]}, "run_model": {"args": ["self", "cfg_directory", "cfg_prefix", "n_steps"], "min_max_lineno": {"min_lineno": 1017, "max_lineno": 1091}, "calls": ["BMI_base.BMI_component.initialize", "hasattr", "BMI_base.BMI_component.finalize", "os.chdir", "os.chdir", "os.chdir", "os.chdir", "hasattr", "BMI_base.BMI_component.check_finished", "BMI_base.BMI_component.update", "print", "BMI_base.BMI_component.update", "print", "print"]}, "check_finished": {"args": ["self"], "min_max_lineno": {"min_lineno": 1094, "max_lineno": 1133}}, "initialize_time_vars": {"args": ["self", "units"], "min_max_lineno": {"min_lineno": 1137, "max_lineno": 1191}, "calls": ["time.time", "units.lower", "numpy.int32", "BMI_base.BMI_component.initialize_scalar", "BMI_base.BMI_component.initialize_scalar", "BMI_base.BMI_component.initialize_scalar", "hasattr", "hasattr", "time.time", "numpy.float64", "numpy.float64"], "store_vars_calls": {"self.start_time": "time.time", "self.time_units": "units.lower", "self.time_index": "np.int32", "self.time": "self.initialize_scalar", "self.time_sec": "self.initialize_scalar", "self.time_min": "self.initialize_scalar"}}, "update_time": {"args": ["self", "dt"], "min_max_lineno": {"min_lineno": 1197, "max_lineno": 1245}, "calls": ["BMI_base.BMI_component.check_finished", "numpy.float64", "numpy.float64", "numpy.float64", "numpy.float64"]}, "print_time_and_value": {"args": ["self", "value", "var_name", "units_name", "interval", "PRINT_INDEX"], "min_max_lineno": {"min_lineno": 1248, "max_lineno": 1304}, "calls": ["str", "print", "time.time", "print", "time.time", "print"], "store_vars_calls": {"istr": "str", "self.last_print_time": "time.time"}}, "get_run_time_string": {"args": ["self", "proc_name", "sec_digits", "seconds", "SILENT"], "returns": [["time_string"]], "min_max_lineno": {"min_lineno": 1307, "max_lineno": 1384}, "calls": ["time.time", "numpy.float32", "numpy.int32", "numpy.int32", "numpy.int32", "numpy.int32", "numpy.int32", "numpy.int32", "numpy.int32", "numpy.int32", "str", "str", "str", "str", "str"], "store_vars_calls": {"finish": "time.time"}}, "print_run_time": {"args": ["self", "proc_name", "sec_digits", "seconds", "SILENT"], "min_max_lineno": {"min_lineno": 1395, "max_lineno": 1404}, "calls": ["print", "print", "print", "BMI_base.BMI_component.get_run_time_string"]}, "print_final_report": {"args": ["self", "comp_name", "mode"], "min_max_lineno": {"min_lineno": 1407, "max_lineno": 1452}, "calls": ["print", "print", "print", "print", "print", "print", "print", "print", "print", "BMI_base.BMI_component.get_run_time_string", "print", "print", "print", "print", "print", "print", "print", "print", "print", "print", "print", "hasattr", "time.asctime", "str", "str", "str", "str", "str"], "store_vars_calls": {"run_time_str": "self.get_run_time_string"}}, "print_traceback": {"args": ["self", "caller_name"], "min_max_lineno": {"min_lineno": 1459, "max_lineno": 1467}, "calls": ["print", "print", "print", "print", "traceback.print_exc"]}, "read_path_info": {"args": ["self"], "min_max_lineno": {"min_lineno": 1470, "max_lineno": 1550}, "calls": ["BMI_base.BMI_component.get_attribute", "BMI_base.BMI_component.cfg_file.replace", "open", "BMI_base.BMI_component.set_directories", "print", "print", "os.path.exists", "os.path.exists", "os.path.exists", "os.path.exists", "print", "print", "open.readline", "open.readline.split", "words[].strip", "words[].strip", "words[].strip", "exec", "len", "locals"], "store_vars_calls": {"cfg_extension": "self.get_attribute", "cfg_prefix": "self.cfg_file.replace", "cfg_unit": "open", "line": "cfg_unit.readline", "words": "line.split", "var_name": "words[].strip", "value": "words[].strip", "var_type": "words[].strip"}}, "read_time_info": {"args": ["self"], "min_max_lineno": {"min_lineno": 1553, "max_lineno": 1667}, "calls": ["time_info_class", "BMI_base.BMI_component.get_attribute", "BMI_base.BMI_component.cfg_file.replace", "open", "time_utils.get_duration", "print", "print", "os.path.exists", "os.path.exists", "os.path.exists", "os.path.exists", "print", "print", "print", "open.readline", "open.readline.split", "words[].strip", "words[].strip", "words[].strip", "exec", "len", "locals"], "store_vars_calls": {"time_info": "time_info_class", "cfg_extension": "self.get_attribute", "cfg_prefix": "self.cfg_file.replace", "cfg_unit": "open", "duration": "time_utils.get_duration", "line": "cfg_unit.readline", "words": "line.split", "var_name": "words[].strip", "value": "words[].strip", "var_type": "words[].strip"}}, "read_config_file": {"args": ["self"], "min_max_lineno": {"min_lineno": 1670, "max_lineno": 1908}, "calls": ["open", "print", "print", "os.path.exists", "os.path.exists", "os.path.exists", "os.path.exists", "print", "print", "open.readline", "open.readline.split", "words[].strip", "words[].strip", "words[].strip", "words[].strip.rfind", "words[].strip.rfind", "last_var_name.startswith", "len", "numpy.int32", "BMI_base.BMI_component.initialize_layer_vars", "numpy.float64", "exec", "type_choice.lower", "exec", "locals", "numpy.int32", "exec", "locals", "type_choice.lower", "exec", "exec", "locals", "print", "print", "print", "locals", "locals", "s.lower", "exec", "exec", "locals", "s.lower", "exec", "locals", "exec", "exec", "locals", "locals", "locals"], "store_vars_calls": {"cfg_unit": "open", "line": "cfg_unit.readline", "words": "line.split", "var_name": "words[].strip", "value": "np.int32", "var_type": "words[].strip", "p1": "var_name.rfind", "p2": "var_name.rfind", "self.n_layers": "np.int32"}}, "initialize_config_vars": {"args": ["self"], "min_max_lineno": {"min_lineno": 1911, "max_lineno": 1950}, "calls": ["BMI_base.BMI_component.read_path_info", "BMI_base.BMI_component.read_time_info", "BMI_base.BMI_component.read_grid_info", "BMI_base.BMI_component.read_config_file", "BMI_base.BMI_component.set_directories"]}, "set_computed_input_vars": {"args": ["self"], "min_max_lineno": {"min_lineno": 2043, "max_lineno": 2046}}, "initialize_basin_vars": {"args": ["self"], "min_max_lineno": {"min_lineno": 2049, "max_lineno": 2056}, "calls": ["outlets.read_outlet_file"]}, "prepend_directory": {"args": ["self", "file_list", "INPUT"], "min_max_lineno": {"min_lineno": 2060, "max_lineno": 2083}, "calls": ["eval", "exec", "locals"], "store_vars_calls": {"filename": "eval"}}, "set_directories": {"args": ["self", "REPORT"], "min_max_lineno": {"min_lineno": 2086, "max_lineno": 2236}, "calls": ["os.path.expanduser", "os.path.expanduser", "os.path.expanduser", "os.path.expanduser", "os.path.expanduser", "os.path.expanduser", "os.path.expanduser", "os.path.expanduser", "print", "print", "print", "print", "print", "print", "hasattr", "os.path.abspath", "os.path.abspath", "os.path.abspath", "os.path.abspath", "os.path.abspath", "os.path.abspath", "os.path.abspath", "os.path.abspath", "os.path.exists", "os.path.exists", "os.path.exists", "os.path.exists", "os.path.exists", "os.path.exists", "os.path.exists", "os.path.exists", "os.path.exists", "os.path.exists", "os.path.exists", "os.path.exists", "print", "print", "print", "print", "print", "print", "print", "print", "os.getcwd", "os.getcwd", "os.getcwd", "os.getcwd", "os.path.dirname", "os.path.dirname", "os.path.dirname", "os.path.dirname", "os.getcwd", "os.getcwd", "os.getcwd", "os.getcwd"], "store_vars_calls": {"in_dir": "os.path.abspath", "out_dir": "os.path.abspath", "cfg_dir": "os.getcwd"}}, "initialize_scalar": {"args": ["self", "value", "dtype"], "min_max_lineno": {"min_lineno": 2239, "max_lineno": 2271}, "calls": ["numpy.array"]}, "initialize_grid": {"args": ["self", "value", "dtype"], "returns": [["grid"]], "min_max_lineno": {"min_lineno": 2301, "max_lineno": 2311}, "calls": ["numpy.zeros"], "store_vars_calls": {"grid": "np.zeros"}}, "initialize_var": {"args": ["self", "var_type", "value", "dtype"], "returns": [["var"]], "min_max_lineno": {"min_lineno": 2314, "max_lineno": 2327}, "calls": ["var_type.lower", "BMI_base.BMI_component.initialize_scalar", "BMI_base.BMI_component.initialize_grid"], "store_vars_calls": {"var": "self.initialize_grid"}}, "update_var": {"args": ["self", "var_name", "value"], "min_max_lineno": {"min_lineno": 2330, "max_lineno": 2354}, "calls": ["BMI_base.BMI_component.is_scalar", "exec", "exec", "locals", "locals"]}, "is_scalar": {"args": ["self", "var_name"], "min_max_lineno": {"min_lineno": 2359, "max_lineno": 2372}, "calls": ["eval"], "store_vars_calls": {"n": "eval"}}, "is_vector": {"args": ["self", "var_name"], "min_max_lineno": {"min_lineno": 2375, "max_lineno": 2388}, "calls": ["eval"], "store_vars_calls": {"n": "eval"}}, "is_grid": {"args": ["self", "var_name"], "min_max_lineno": {"min_lineno": 2391, "max_lineno": 2425}, "calls": ["eval"], "store_vars_calls": {"n": "eval"}}}}}, "functions": {"unit_test": {"min_max_lineno": {"min_lineno": 175, "max_lineno": 179}, "calls": ["BMI_base.BMI_component", "print"], "store_vars_calls": {"c": "BMI_component"}}, "test1": {"min_max_lineno": {"min_lineno": 182, "max_lineno": 191}, "calls": ["BMI_base.BMI_component", "exec", "print", "print", "print", "locals", "locals"], "store_vars_calls": {"c": "BMI_component"}}}, "is_test": false}