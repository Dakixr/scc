{"file": {"path": "/Users/dakixr/Desktop/github/scc/tmp-data/metadata/KnowledgeCaptureAndDiscoveryANDmintproject/mic/src/mic/publisher/model_catalog.py", "fileNameBase": "model_catalog", "extension": "py"}, "dependencies": [{"import": "uuid", "type": "external"}, {"from_module": "pathlib", "import": "Path", "type": "external"}, {"import": "click", "type": "external"}, {"import": "validators", "type": "external"}, {"from_module": "mic._utils", "import": "obtain_id", "type": "external"}, {"from_module": "mic._utils", "import": "parse", "type": "external"}, {"from_module": "mic._utils", "import": "upload_code", "type": "external"}, {"from_module": "mic.config_yaml", "import": "get_inputs_parameters", "type": "external"}, {"from_module": "mic.config_yaml", "import": "get_key_spec", "type": "external"}, {"from_module": "mic.config_yaml", "import": "DOCKER_KEY", "type": "external"}, {"from_module": "mic.constants", "import": "TYPE_PARAMETER", "type": "external"}, {"from_module": "mic.constants", "import": "TYPE_DATASET", "type": "external"}, {"from_module": "mic.constants", "import": "TYPE_SOFTWARE_IMAGE", "type": "external"}, {"from_module": "mic.constants", "import": "MINT_COMPONENT_KEY", "type": "external"}, {"from_module": "mic.constants", "import": "TYPE_MODEL_CONFIGURATION", "type": "external"}, {"from_module": "mic.constants", "import": "TYPE_SOFTWARE_VERSION", "type": "external"}, {"from_module": "mic.constants", "import": "MINT_INSTANCE", "type": "external"}, {"from_module": "mic.constants", "import": "FORMAT_KEY", "type": "external"}, {"from_module": "mic.constants", "import": "PATH_KEY", "type": "external"}, {"from_module": "mic.constants", "import": "TYPE_DATA_TRANSFORMATION", "type": "external"}, {"from_module": "mic.constants", "import": "MAP_PYTHON_MODEL_CATALOG", "type": "external"}, {"from_module": "mic.constants", "import": "CWL_KEY", "type": "external"}, {"from_module": "mic.drawer", "import": "print_choices", "type": "external"}, {"from_module": "mic.model_catalog_utils", "import": "get_label_from_response", "type": "external"}, {"from_module": "mic.model_catalog_utils", "import": "create_sample_resource", "type": "external"}, {"from_module": "mic.resources.data_specification", "import": "DataSpecificationCli", "type": "external"}, {"from_module": "mic.resources.data_transformation", "import": "DataTransformationCli", "type": "external"}, {"from_module": "mic.resources.model", "import": "ModelCli", "type": "external"}, {"from_module": "mic.resources.model_configuration", "import": "ModelConfigurationCli", "type": "external"}, {"from_module": "mic.resources.software_version", "import": "SoftwareVersionCli", "type": "external"}, {"from_module": "modelcatalog", "import": "DatasetSpecification", "type": "external"}, {"from_module": "modelcatalog", "import": "ModelConfiguration", "type": "external"}, {"from_module": "modelcatalog", "import": "SoftwareImage", "type": "external"}, {"from_module": "modelcatalog", "import": "Parameter", "type": "external"}, {"from_module": "modelcatalog", "import": "Model", "type": "external"}, {"from_module": "modelcatalog", "import": "SoftwareVersion", "type": "external"}, {"from_module": "modelcatalog", "import": "DataTransformation", "type": "external"}], "functions": {"generate_uuid": {"min_max_lineno": {"min_lineno": 21, "max_lineno": 23}, "calls": ["str", "uuid.uuid4"]}, "create_model_catalog_resource_cwl": {"args": ["mint_config_file", "name", "execution_dir", "allow_local_path", "cwl_path"], "returns": [["model_configuration"], ["model_configuration"]], "min_max_lineno": {"min_lineno": 25, "max_lineno": 58}, "calls": ["mic.config_yaml.get_inputs_parameters", "mic.config_yaml.get_key_spec", "model_catalog.create_parameter_resource", "mic.config_yaml.get_key_spec", "modelcatalog.ModelConfiguration", "click.secho", "mic._utils.upload_code", "model_catalog.create_data_set_resource", "model_catalog.create_data_set_resource", "click.secho", "modelcatalog.SoftwareImage", "pathlib.Path", "str", "model_catalog.generate_uuid"], "store_vars_calls": {"code": "get_key_spec", "model_catalog_parameters": "create_parameter_resource", "image": "get_key_spec", "model_configuration": "ModelConfiguration", "response": "upload_code", "software_image": "SoftwareImage"}}, "create_model_catalog_resource": {"args": ["mint_config_file", "name", "execution_dir", "allow_local_path"], "returns": [["model_configuration"], ["model_configuration"]], "min_max_lineno": {"min_lineno": 60, "max_lineno": 93}, "calls": ["mic.config_yaml.get_inputs_parameters", "model_catalog.create_parameter_resource", "mic.config_yaml.get_key_spec", "mic.config_yaml.get_key_spec", "modelcatalog.ModelConfiguration", "model_catalog.create_data_set_resource", "model_catalog.create_data_set_resource", "click.secho", "modelcatalog.SoftwareImage", "click.secho", "exit", "str", "model_catalog.generate_uuid"], "store_vars_calls": {"model_catalog_parameters": "create_parameter_resource", "image": "get_key_spec", "code": "get_key_spec", "model_configuration": "ModelConfiguration", "software_image": "SoftwareImage"}}, "create_parameter_resource": {"args": ["parameters"], "returns": [["model_catalog_parameters"]], "min_max_lineno": {"min_lineno": 95, "max_lineno": 109}, "calls": ["parameters.items", "modelcatalog.Parameter", "model_catalog_parameters.append", "model_catalog.generate_uuid"], "store_vars_calls": {"_parameter": "Parameter"}}, "create_data_set_resource": {"args": ["allow_local_path", "inputs", "execution_dir"], "returns": [["model_catalog_inputs"]], "min_max_lineno": {"min_lineno": 111, "max_lineno": 125}, "calls": ["inputs.items", "modelcatalog.DatasetSpecification", "model_catalog_inputs.append", "mic.model_catalog_utils.create_sample_resource", "model_catalog.generate_uuid", "pathlib.Path", "str"], "store_vars_calls": {"_input": "DatasetSpecification"}}, "publish_model_configuration": {"args": ["model_configuration", "profile"], "returns": [["api_response", "api_response_mc", "model_id", "software_version_id"]], "min_max_lineno": {"min_lineno": 127, "max_lineno": 145}, "calls": ["mic.resources.model_configuration.ModelConfigurationCli", "mic.resources.model_configuration.ModelConfigurationCli.post", "click.echo", "mic.resources.model.ModelCli", "mic.resources.model.ModelCli.get", "model_catalog.get_show_models", "click.secho", "validators.url", "click.confirm", "model_catalog.handle_existing_model", "model_catalog.create_new_model"], "store_vars_calls": {"model_configuration_cli": "ModelConfigurationCli", "api_response_mc": "model_configuration_cli.post", "model_cli": "ModelCli", "models": "model_cli.get", "labels": "get_show_models", "api_response": "create_new_model"}}, "handle_existing_model": {"args": ["profile", "api_response_mc", "labels", "model_cli"], "min_max_lineno": {"min_lineno": 147, "max_lineno": 167}, "calls": ["model_cli.get", "click.prompt", "mic.resources.software_version.SoftwareVersionCli", "model_catalog.get_show_models_version", "model_catalog.handle_new_existing_software_version", "selected_model.has_version.append", "model_cli.put", "click.Choice", "list", "range", "len"], "store_vars_calls": {"models": "model_cli.get", "choice": "click.prompt", "software_version_cli": "SoftwareVersionCli", "labels": "get_show_models_version", "software_version": "handle_new_existing_software_version"}}, "handle_new_existing_software_version": {"args": ["labels", "api_response_mc", "selected_model", "software_version_cli"], "min_max_lineno": {"min_lineno": 169, "max_lineno": 194}, "calls": ["click.confirm", "click.prompt", "software_version_cli.get_one", "software_version_cli.put", "click.echo", "click.prompt", "click.prompt", "modelcatalog.SoftwareVersion", "software_version_cli.post", "mic._utils.obtain_id", "software_version_cli.get_one.has_configuration.append", "click.Choice", "list", "range", "len"], "store_vars_calls": {"choice": "click.prompt", "model_version": "software_version_cli.get_one", "_version": "click.prompt", "description": "click.prompt", "software_version": "SoftwareVersion"}}, "create_new_model": {"args": ["model_cli", "model_configuration"], "min_max_lineno": {"min_lineno": 196, "max_lineno": 211}, "calls": ["click.echo", "click.prompt", "click.prompt", "click.prompt", "click.prompt", "modelcatalog.Model", "model_cli.post", "modelcatalog.SoftwareVersion"], "store_vars_calls": {"name": "click.prompt", "model_description": "click.prompt", "_version": "click.prompt", "version_description": "click.prompt", "new_model": "Model"}}, "get_show_models_version": {"args": ["resources", "software_version_cli"], "returns": [["labels"]], "min_max_lineno": {"min_lineno": 213, "max_lineno": 221}, "calls": ["click.secho", "mic.model_catalog_utils.get_label_from_response", "click.secho", "mic.drawer.print_choices", "software_version_cli.get_one", "mic._utils.obtain_id"], "store_vars_calls": {"labels": "get_label_from_response"}}, "get_show_models": {"args": ["resources", "resource_name"], "returns": [["labels"]], "min_max_lineno": {"min_lineno": 223, "max_lineno": 231}, "calls": ["click.secho", "mic.model_catalog_utils.get_label_from_response", "click.secho", "mic.drawer.print_choices"], "store_vars_calls": {"labels": "get_label_from_response"}}, "publish_data_transformation": {"args": ["data_transformation", "profile"], "returns": [["api_response_mc"], ["api_response_mc"]], "min_max_lineno": {"min_lineno": 232, "max_lineno": 272}, "calls": ["mic.resources.data_transformation.DataTransformationCli", "mic.resources.data_transformation.DataTransformationCli.post", "click.echo", "click.confirm", "mic.resources.model_configuration.ModelConfigurationCli", "mic.resources.model_configuration.ModelConfigurationCli.get", "model_catalog.get_show_models", "click.prompt", "mic.resources.model_configuration.ModelConfigurationCli.get_one", "model_catalog.get_show_models", "click.prompt", "mic.resources.data_specification.DataSpecificationCli", "mic.resources.data_specification.DataSpecificationCli.get_one", "mic.resources.data_specification.DataSpecificationCli.put", "click.secho", "validators.url", "mic._utils.obtain_id", "mic._utils.obtain_id", "dataset_cli.get_one.has_data_transformation.append", "click.Choice", "click.Choice", "list", "list", "range", "range", "len", "len"], "store_vars_calls": {"data_transformation_cli": "DataTransformationCli", "api_response_mc": "data_transformation_cli.post", "model_configuration_cli": "ModelConfigurationCli", "model_configurations": "model_configuration_cli.get", "labels": "get_show_models", "choice": "click.prompt", "model_configuration": "model_configuration_cli.get_one", "dataset_cli": "DataSpecificationCli", "_input": "dataset_cli.get_one"}}, "create_data_transformation_resource": {"args": ["mint_config_file", "name", "execution_dir", "allow_local_path"], "returns": [["data_transformation"], ["data_transformation"]], "min_max_lineno": {"min_lineno": 274, "max_lineno": 306}, "calls": ["mic.config_yaml.get_inputs_parameters", "model_catalog.create_parameter_resource", "mic.config_yaml.get_key_spec", "mic.config_yaml.get_key_spec", "modelcatalog.DataTransformation", "model_catalog.create_data_set_resource", "model_catalog.create_data_set_resource", "click.secho", "modelcatalog.SoftwareImage", "click.secho", "str", "model_catalog.generate_uuid"], "store_vars_calls": {"model_catalog_parameters": "create_parameter_resource", "image": "get_key_spec", "code": "get_key_spec", "data_transformation": "DataTransformation", "software_image": "SoftwareImage"}}}, "is_test": false}