{"file": {"path": "/Users/dakixr/Desktop/github/scc/tmp-data/metadata/KnowledgeCaptureAndDiscoveryANDmintproject/mic/src/mic/publisher/s3.py", "fileNameBase": "s3", "extension": "py", "doc": {"short_description": "Command to upload", "full": "Command to upload"}}, "dependencies": [{"import": "logging", "type": "external"}, {"import": "os", "type": "external"}, {"import": "shutil", "type": "external"}, {"from_module": "pathlib", "import": "Path", "type": "external"}, {"from_module": "datetime", "import": "datetime", "type": "external"}, {"import": "click", "type": "external"}, {"from_module": "mic.credentials", "import": "get_credentials", "type": "external"}, {"from_module": "mint_upload.object_storage", "import": "Uploader", "type": "external"}, {"from_module": "mic.config_yaml", "import": "write_spec", "type": "external"}, {"from_module": "mic.constants", "import": "VERSION_KEY", "type": "external"}, {"from_module": "mic.constants", "import": "MINT_COMPONENT_KEY", "type": "external"}, {"from_module": "mic.constants", "import": "MINT_COMPONENT_ZIP", "type": "external"}, {"from_module": "mic.constants", "import": "SRC_DIR", "type": "external"}], "functions": {"new_version": {"min_max_lineno": {"min_lineno": 14, "max_lineno": 16}, "calls": ["datetime.datetime.now().strftime", "datetime.datetime.now"]}, "push": {"args": ["model_directory", "mic_config_path", "name", "profile"], "min_max_lineno": {"min_lineno": 17, "max_lineno": 29}, "calls": ["s3.new_version", "mic.config_yaml.write_spec", "logging.info", "click.secho", "s3.compress_src_dir", "s3.upload_file", "mic.config_yaml.write_spec", "logging.info", "click.secho", "click.secho"], "store_vars_calls": {"_version": "new_version", "zip_file": "compress_src_dir", "url": "upload_file"}}, "upload_file": {"args": ["file_name", "profile", "bucket_name"], "min_max_lineno": {"min_lineno": 30, "max_lineno": 46}, "calls": ["mic.credentials.get_credentials", "mint_upload.object_storage.Uploader", "mint_upload.object_storage.Uploader.upload_file", "str", "logging.error", "exit"], "store_vars_calls": {"credentials": "get_credentials", "uploader": "Uploader"}}, "compress_src_dir": {"doc": {"short_description": "Compress the directory src and create a zip file"}, "args": ["model_path", "version"], "min_max_lineno": {"min_lineno": 48, "max_lineno": 62}, "calls": ["mic_component_path.exists", "shutil.make_archive", "shutil.move", "pathlib.Path", "os.remove", "src_dir.relative_to"], "store_vars_calls": {"zip_file_path": "shutil.make_archive"}}}, "is_test": false}