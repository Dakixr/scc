{"file": {"path": "/Users/dakixr/Desktop/github/scc/tmp-data/metadata/KnowledgeCaptureAndDiscoveryANDmintproject/topoflow36/topoflow/components/erode_base.py", "fileNameBase": "erode_base", "extension": "py"}, "dependencies": [{"import": "numpy", "alias": "np", "type": "external"}, {"import": "os", "type": "external"}, {"import": "time", "type": "external"}, {"from_module": "topoflow.components", "import": "d8_global", "type": "external"}, {"from_module": "topoflow.utils", "import": "BMI_base", "type": "external"}, {"from_module": "topoflow.utils", "import": "fill_pits", "type": "external"}, {"from_module": "topoflow.utils", "import": "midpoints", "type": "external"}, {"from_module": "topoflow.utils", "import": "model_input", "type": "external"}, {"from_module": "topoflow.utils", "import": "model_output", "type": "external"}, {"from_module": "topoflow.utils", "import": "pixels", "type": "external"}, {"from_module": "topoflow.utils", "import": "rtg_files", "type": "external"}, {"from_module": "topoflow.utils", "import": "rti_files", "type": "external"}], "classes": {"erosion_component": {"extend": ["BMI_base.BMI_component"], "min_max_lineno": {"min_lineno": 123, "max_lineno": 2577}, "methods": {"set_constants": {"args": ["self"], "min_max_lineno": {"min_lineno": 126, "max_lineno": 173}, "calls": ["numpy.float64", "numpy.float64", "numpy.float64", "numpy.float64", "erode_base.erosion_component.get_attribute", "erode_base.erosion_component.time_step_type.lower"], "store_vars_calls": {"self.secs_per_year": "np.float64", "self.mm_per_m": "np.float64", "self.dz_tolerance": "np.float64", "self.dt_too_small": "np.float64", "self.time_step_type": "self.get_attribute"}}, "initialize": {"args": ["self", "cfg_file", "mode", "SILENT"], "min_max_lineno": {"min_lineno": 176, "max_lineno": 305}, "calls": ["erode_base.erosion_component.set_constants", "erode_base.erosion_component.initialize_config_vars", "topoflow.utils.rti_files.make_info", "topoflow.utils.pixels.get_da", "topoflow.utils.rti_files.write_info", "erode_base.erosion_component.initialize_basin_vars", "erode_base.erosion_component.initialize_time_vars", "erode_base.erosion_component.open_input_files", "erode_base.erosion_component.read_input_files", "erode_base.erosion_component.initialize_DEM", "erode_base.erosion_component.initialize_d8_vars", "erode_base.erosion_component.initialize_boundary_conditions", "erode_base.erosion_component.initialize_computed_vars", "erode_base.erosion_component.open_output_files", "print", "topoflow.utils.rti_files.make_info", "topoflow.utils.rti_files.write_info", "print", "print", "print", "str"], "store_vars_calls": {"rti": "rti_files.make_info", "self.da": "pixels.get_da", "self.rti": "rti_files.make_info"}}, "update": {"args": ["self", "time", "SILENT", "REPORT"], "min_max_lineno": {"min_lineno": 308, "max_lineno": 315}}, "finalize": {"args": ["self"], "min_max_lineno": {"min_lineno": 406, "max_lineno": 440}, "calls": ["erode_base.erosion_component.close_input_files", "erode_base.erosion_component.close_output_files", "print", "print", "print", "print", "print", "print", "print", "print", "print", "print", "erode_base.erosion_component.print_final_report", "erode_base.erosion_component.dt_grid.min", "erode_base.erosion_component.dt_grid.max", "erode_base.erosion_component.DEM.min", "erode_base.erosion_component.DEM.max", "erode_base.erosion_component.dz_max_vec.min", "erode_base.erosion_component.dz_max_vec.max"]}, "set_computed_input_vars": {"args": ["self"], "min_max_lineno": {"min_lineno": 443, "max_lineno": 470}, "calls": ["numpy.maximum", "numpy.maximum", "erode_base.erosion_component.make_z0_method.upper", "erode_base.erosion_component.make_z0_method.upper", "erode_base.erosion_component.make_z0_method.upper", "erode_base.erosion_component.make_z0_method.upper", "erode_base.erosion_component.noise_method.upper", "erode_base.erosion_component.noise_method.upper", "erode_base.erosion_component.noise_method.upper", "erode_base.erosion_component.BC_method.upper", "erode_base.erosion_component.BC_method.upper", "erode_base.erosion_component.BC_method.upper", "erode_base.erosion_component.BC_method.upper"], "store_vars_calls": {"self.save_grid_dt": "np.maximum", "self.save_pixels_dt": "np.maximum"}}, "initialize_DEM": {"args": ["self", "SILENT"], "min_max_lineno": {"min_lineno": 483, "max_lineno": 559}, "calls": ["numpy.nanmin", "numpy.nanmax", "open", "os.path.getsize", "topoflow.utils.rtg_files.read_grid", "erode_base.erosion_component.create_initial_DEM", "print", "erode_base.erosion_component.fill_pits_in_DEM", "topoflow.utils.rtg_files.write_grid", "print", "print", "numpy.int32", "numpy.int32", "numpy.int32", "numpy.float32", "print", "print", "print"], "store_vars_calls": {"self.DEM_min": "np.nanmin", "self.DEM_max": "np.nanmax", "DEM_unit": "open", "file_size": "os.path.getsize", "self.DEM": "np.float32"}}, "create_initial_DEM": {"args": ["self", "SILENT"], "min_max_lineno": {"min_lineno": 562, "max_lineno": 693}, "calls": ["numpy.float64", "topoflow.utils.rtg_files.write_grid", "numpy.random.seed", "numpy.random.normal", "numpy.meshgrid", "print", "max", "numpy.ceil", "numpy.int16", "topoflow.utils.midpoints.make_fractal_surface", "float32", "numpy.arange", "sqrt", "print", "numpy.arange", "numpy.float32", "numpy.log", "numpy.log"], "store_vars_calls": {"self.DEM": "float32", "nn": "max", "n_levels": "np.int16", "surf": "midpoints.make_fractal_surface"}}, "initialize_boundary_conditions": {"args": ["self"], "min_max_lineno": {"min_lineno": 696, "max_lineno": 770}, "calls": ["numpy.arange", "numpy.float32", "numpy.arange", "numpy.concatenate", "numpy.concatenate", "numpy.nanmin", "numpy.float32", "numpy.arange", "numpy.arange", "numpy.arange", "numpy.arange", "numpy.arange"], "store_vars_calls": {"top_IDs": "np.arange", "T_IDs": "np.arange", "self.base_IDs": "np.concatenate", "self.base_level": "np.float32"}}, "initialize_computed_vars": {"args": ["self"], "min_max_lineno": {"min_lineno": 773, "max_lineno": 794}, "calls": ["erode_base.erosion_component.initialize_scalar", "erode_base.erosion_component.initialize_scalar", "erode_base.erosion_component.initialize_scalar", "numpy.zeros", "erode_base.erosion_component.initialize_scalar", "erode_base.erosion_component.initialize_scalar"], "store_vars_calls": {"self.dt": "self.initialize_scalar", "self.vol_R": "self.initialize_scalar", "self.vol_U": "self.initialize_scalar", "self.dz_max_vec": "np.zeros", "self.dz_max": "self.initialize_scalar", "self.dz_min": "self.initialize_scalar"}}, "update_R": {"args": ["self"], "min_max_lineno": {"min_lineno": 798, "max_lineno": 842}}, "update_R_integral": {"args": ["self"], "min_max_lineno": {"min_lineno": 846, "max_lineno": 857}, "calls": ["numpy.float64", "numpy.sum"], "store_vars_calls": {"volume": "np.float64"}}, "update_U": {"args": ["self"], "min_max_lineno": {"min_lineno": 860, "max_lineno": 866}}, "update_U_integral": {"args": ["self"], "min_max_lineno": {"min_lineno": 869, "max_lineno": 880}, "calls": ["numpy.float64", "numpy.sum"], "store_vars_calls": {"volume": "np.float64"}}, "update_base_level": {"args": ["self"], "min_max_lineno": {"min_lineno": 883, "max_lineno": 904}}, "update_DEM_edge_values": {"args": ["self"], "min_max_lineno": {"min_lineno": 918, "max_lineno": 929}, "calls": ["numpy.float32", "numpy.float32"]}, "update_d8_vars": {"args": ["self", "SILENT", "REPORT", "SAVE_RTG"], "min_max_lineno": {"min_lineno": 939, "max_lineno": 975}, "calls": ["erode_base.erosion_component.d8.update", "topoflow.utils.rtg_files.write_grid", "topoflow.utils.rtg_files.write_grid"]}, "fill_pits_in_DEM": {"args": ["self", "SILENT"], "min_max_lineno": {"min_lineno": 1001, "max_lineno": 1010}, "calls": ["topoflow.utils.fill_pits.fill_pits", "print"]}, "update_DEM_min_and_max": {"args": ["self", "REPORT"], "min_max_lineno": {"min_lineno": 1020, "max_lineno": 1031}, "calls": ["numpy.nanmin", "numpy.nanmax", "print", "str", "str"], "store_vars_calls": {"self.DEM_min": "np.nanmin", "self.DEM_max": "np.nanmax"}}, "update_dt_grid": {"args": ["self", "SILENT", "REPORT", "SAVE_RTG"], "min_max_lineno": {"min_lineno": 1034, "max_lineno": 1039}, "calls": ["erode_base.erosion_component.update_dt_grid_method1"]}, "update_dt_grid_method1": {"args": ["self", "SILENT", "REPORT", "SAVE_RTG"], "min_max_lineno": {"min_lineno": 1045, "max_lineno": 1209}, "calls": ["numpy.float32", "numpy.float64", "divmod", "numpy.maximum", "numpy.maximum", "numpy.zeros", "numpy.where", "erode_base.erosion_component.dt_grid.min", "erode_base.erosion_component.dt_grid.max", "numpy.nanmin", "print", "numpy.logical_and", "print", "print", "print", "print", "print", "print", "print", "print", "print", "print", "sys.exit", "numpy.nanmax", "print", "print", "print", "print", "topoflow.utils.rtg_files.write_grid", "print", "print", "print", "print", "numpy.around", "numpy.around", "str", "str", "str", "str", "str", "str", "numpy.maximum.max", "str", "numpy.maximum.max", "numpy.maximum.min", "numpy.maximum.min"], "store_vars_calls": {"dt_too_small": "np.float32", "fac": "np.float64", "pIDs": "divmod", "del_z": "np.maximum", "del_Qs": "np.maximum", "self.dt_grid": "np.zeros", "wd": "np.where", "self.dt_min": "self.dt_grid.min", "self.dt_max": "self.dt_grid.max", "dt_grid_min": "np.nanmin", "dt_grid_max": "np.nanmax"}}, "update_min_dz_up_grid": {"args": ["self", "SILENT", "REPORT", "SAVE_RTG"], "min_max_lineno": {"min_lineno": 1212, "max_lineno": 1381}, "calls": ["numpy.zeros", "numpy.where", "print", "numpy.minimum", "numpy.minimum", "numpy.minimum", "numpy.minimum", "numpy.minimum", "numpy.minimum", "numpy.minimum", "numpy.minimum", "print", "print", "print", "numpy.where", "print", "print", "print", "print", "print", "numpy.where", "print", "print", "topoflow.utils.rtg_files.write_grid", "print", "print", "print", "dz_dt0.min", "dz_dt0.max", "dz_dte.min", "dz_dte.max", "min_dz_up[].max", "numpy.zeros.min", "erode_base.erosion_component.DEM.min", "erode_base.erosion_component.DEM.max"], "store_vars_calls": {"min_dz_up": "np.zeros", "w_zero": "np.where", "w0": "np.where", "w": "np.where", "min_dz_up_max": "min_dz_up[].max"}}, "update_dt_grid_method2": {"args": ["self", "SILENT", "REPORT", "SAVE_RTG"], "min_max_lineno": {"min_lineno": 1456, "max_lineno": 1521}, "calls": ["erode_base.erosion_component.update_min_dz_up_grid", "numpy.float64", "numpy.where", "erode_base.erosion_component.dt_grid.max", "numpy.where", "erode_base.erosion_component.dt_grid.min", "print", "numpy.logical_or", "print", "print", "print", "print", "topoflow.utils.rtg_files.write_grid", "numpy.around"], "store_vars_calls": {"fac": "np.float64", "w_bad": "np.where", "dt_max": "self.dt_grid.max", "self.dt_min": "self.dt_grid.min"}}, "update_dt_grid_local1": {"args": ["self", "SILENT", "REPORT", "SAVE_RTG"], "min_max_lineno": {"min_lineno": 1524, "max_lineno": 1664}, "calls": ["numpy.float64", "numpy.float64", "numpy.maximum", "numpy.maximum", "numpy.zeros", "numpy.where", "erode_base.erosion_component.dt_grid.min", "erode_base.erosion_component.dt_grid.max", "numpy.nanmin", "print", "numpy.logical_and", "print", "print", "print", "print", "print", "print", "print", "print", "print", "print", "print", "print", "print", "sys.exit", "numpy.nanmax", "print", "print", "print", "print", "topoflow.utils.rtg_files.write_grid", "numpy.around", "str", "str", "str", "str", "str", "str", "numpy.maximum.max", "str", "numpy.maximum.max", "numpy.maximum.min", "numpy.maximum.min"], "store_vars_calls": {"fac": "np.float64", "dt_too_small": "np.float64", "del_z": "np.maximum", "del_Qs": "np.maximum", "self.dt_grid": "np.zeros", "wd": "np.where", "self.dt_min": "self.dt_grid.min", "self.dt_max": "self.dt_grid.max", "dt_grid_min": "np.nanmin", "dt_grid_max": "np.nanmax"}}, "update_n_grid": {"args": ["self", "SILENT", "REPORT", "STORE", "SAVE_RTG"], "min_max_lineno": {"min_lineno": 1667, "max_lineno": 1798}, "calls": ["erode_base.erosion_component.dt_grid.min", "numpy.floor", "n_grid.max", "numpy.empty", "numpy.zeros", "numpy.zeros", "range", "numpy.where", "print", "print", "print", "print", "n_grid.min", "print", "print", "print", "numpy.arange", "numpy.sum", "print", "print", "print", "print", "topoflow.utils.rtg_files.write_grid", "numpy.log", "numpy.log", "numpy.ravel"], "store_vars_calls": {"self.dt_min": "self.dt_grid.min", "a": "np.floor", "n_max": "n_grid.max", "group_IDs": "np.empty", "group_start": "np.zeros", "group_count": "np.zeros", "group_n": "np.where", "n_min": "n_grid.min", "n_vec": "np.arange", "T_local": "np.sum"}}, "print_mins_and_maxes": {"args": ["self", "step", "DEM", "A", "S", "Q", "QS", "DZ_DT", "DZ", "DT"], "min_max_lineno": {"min_lineno": 1906, "max_lineno": 1955}, "calls": ["print", "erode_base.erosion_component.DEM.min", "erode_base.erosion_component.DEM.max", "erode_base.erosion_component.d8.A.min", "erode_base.erosion_component.d8.A.max", "erode_base.erosion_component.S.min", "erode_base.erosion_component.S.max", "erode_base.erosion_component.Q.min", "erode_base.erosion_component.Q.max", "erode_base.erosion_component.Qs.min", "erode_base.erosion_component.Qs.max", "erode_base.erosion_component.dz.min", "erode_base.erosion_component.dz.max", "erode_base.erosion_component.dt_grid.min", "erode_base.erosion_component.dt_grid.max", "erode_base.erosion_component.dz_dt.min", "erode_base.erosion_component.dz_dt.max"], "store_vars_calls": {"vmin": "self.dz_dt.min", "vmax": "self.dz_dt.max"}}, "check_stability": {"args": ["self"], "min_max_lineno": {"min_lineno": 1958, "max_lineno": 1982}, "calls": ["numpy.float32", "print", "print", "print", "print", "print", "print", "print", "print", "print", "print", "print", "print", "str", "str", "str", "str", "str", "str"]}, "check_finished": {"args": ["self"], "min_max_lineno": {"min_lineno": 1985, "max_lineno": 2016}}, "open_input_files": {"args": ["self"], "min_max_lineno": {"min_lineno": 2039, "max_lineno": 2043}, "calls": ["topoflow.utils.model_input.open_file"], "store_vars_calls": {"self.z0_unit": "model_input.open_file"}}, "read_input_files": {"args": ["self"], "min_max_lineno": {"min_lineno": 2046, "max_lineno": 2054}, "calls": ["topoflow.utils.model_input.read_next", "erode_base.erosion_component.z0_unit.close"], "store_vars_calls": {"self.z0": "model_input.read_next"}}, "close_input_files": {"args": ["self"], "min_max_lineno": {"min_lineno": 2060, "max_lineno": 2064}, "calls": ["erode_base.erosion_component.z0_unit.close"]}, "update_outfile_names": {"args": ["self"], "min_max_lineno": {"min_lineno": 2068, "max_lineno": 2092}}, "open_output_files": {"args": ["self"], "min_max_lineno": {"min_lineno": 2120, "max_lineno": 2265}, "calls": ["topoflow.utils.model_output.check_netcdf", "erode_base.erosion_component.update_outfile_names", "topoflow.utils.model_output.open_new_gs_file", "topoflow.utils.model_output.open_new_gs_file", "topoflow.utils.model_output.open_new_gs_file", "topoflow.utils.model_output.open_new_gs_file", "topoflow.utils.model_output.open_new_gs_file", "topoflow.utils.model_output.open_new_gs_file", "topoflow.utils.model_output.open_new_gs_file", "topoflow.utils.model_output.open_new_gs_file", "topoflow.utils.model_output.open_new_ts_file", "topoflow.utils.model_output.open_new_ts_file", "topoflow.utils.model_output.open_new_ts_file", "topoflow.utils.model_output.open_new_ts_file", "topoflow.utils.model_output.open_new_ts_file", "topoflow.utils.model_output.open_new_ts_file", "topoflow.utils.model_output.open_new_ts_file", "topoflow.utils.model_output.open_new_ts_file"]}, "write_output_files": {"args": ["self", "time"], "min_max_lineno": {"min_lineno": 2290, "max_lineno": 2348}, "calls": ["numpy.float64", "round", "erode_base.erosion_component.save_grids", "numpy.float64.copy", "erode_base.erosion_component.save_pixel_values", "numpy.float64.copy", "erode_base.erosion_component.save_grids", "erode_base.erosion_component.save_pixel_values", "int", "int"], "store_vars_calls": {"time": "np.float64", "model_time": "round", "self.last_grid_time": "time.copy", "self.last_pixel_time": "time.copy"}}, "close_output_files": {"args": ["self"], "min_max_lineno": {"min_lineno": 2391, "max_lineno": 2414}, "calls": ["topoflow.utils.model_output.close_gs_file", "topoflow.utils.model_output.close_gs_file", "topoflow.utils.model_output.close_gs_file", "topoflow.utils.model_output.close_gs_file", "topoflow.utils.model_output.close_gs_file", "topoflow.utils.model_output.close_gs_file", "topoflow.utils.model_output.close_gs_file", "topoflow.utils.model_output.close_gs_file", "topoflow.utils.model_output.close_ts_file", "topoflow.utils.model_output.close_ts_file", "topoflow.utils.model_output.close_ts_file", "topoflow.utils.model_output.close_ts_file", "topoflow.utils.model_output.close_ts_file", "topoflow.utils.model_output.close_ts_file", "topoflow.utils.model_output.close_ts_file", "topoflow.utils.model_output.close_ts_file"]}, "save_grids": {"args": ["self"], "min_max_lineno": {"min_lineno": 2421, "max_lineno": 2450}, "calls": ["topoflow.utils.model_output.add_grid", "topoflow.utils.model_output.add_grid", "topoflow.utils.model_output.add_grid", "topoflow.utils.model_output.add_grid", "topoflow.utils.model_output.add_grid", "topoflow.utils.model_output.add_grid", "topoflow.utils.model_output.add_grid", "topoflow.utils.model_output.add_grid"]}, "save_pixel_values": {"args": ["self"], "min_max_lineno": {"min_lineno": 2462, "max_lineno": 2490}, "calls": ["topoflow.utils.model_output.add_values_at_IDs", "topoflow.utils.model_output.add_values_at_IDs", "topoflow.utils.model_output.add_values_at_IDs", "topoflow.utils.model_output.add_values_at_IDs", "topoflow.utils.model_output.add_values_at_IDs", "topoflow.utils.model_output.add_values_at_IDs", "topoflow.utils.model_output.add_values_at_IDs", "topoflow.utils.model_output.add_values_at_IDs"]}, "print_time_and_value": {"args": ["self", "var", "var_name", "units_name", "interval"], "min_max_lineno": {"min_lineno": 2502, "max_lineno": 2577}, "calls": ["time.time", "str", "print", "time.time", "str", "print", "print", "str", "print", "print", "print", "print", "print", "print"], "store_vars_calls": {"self.last_print_time": "time.time", "istr": "str"}}}}}, "is_test": false}