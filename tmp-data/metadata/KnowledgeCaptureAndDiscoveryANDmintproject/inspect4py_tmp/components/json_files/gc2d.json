{"file": {"path": "/Users/dakixr/Desktop/github/scc/tmp-data/metadata/KnowledgeCaptureAndDiscoveryANDmintproject/topoflow36/topoflow/components/gc2d.py", "fileNameBase": "gc2d", "extension": "py"}, "dependencies": [{"import": "numpy", "type": "external"}, {"import": "time", "type": "external"}, {"import": "sys", "type": "external"}, {"import": "logging", "type": "external"}, {"import": "scipy", "type": "external"}, {"from_module": "scipy", "import": "interpolate", "type": "external"}, {"from_module": "scipy", "import": "signal", "type": "external"}], "classes": {"MassBalance": {"min_max_lineno": {"min_lineno": 141, "max_lineno": 152}}, "BoundaryCond": {"min_max_lineno": {"min_lineno": 155, "max_lineno": 163}}, "Parameters": {"min_max_lineno": {"min_lineno": 166, "max_lineno": 225}}, "InputParams": {"min_max_lineno": {"min_lineno": 228, "max_lineno": 241}}, "OutputParams": {"min_max_lineno": {"min_lineno": 244, "max_lineno": 255}}, "Toggles": {"min_max_lineno": {"min_lineno": 258, "max_lineno": 299}}}, "functions": {"run_model": {"args": ["t_max", "DEM_file", "SILENT"], "min_max_lineno": {"min_lineno": 90, "max_lineno": 138}, "calls": ["print", "print", "gc2d.load_state", "numpy.float64", "numpy.float64", "numpy.zeros", "print", "print", "print", "print", "print", "print", "print", "print", "print", "print", "gc2d.update", "H.min", "H.max", "Zb.min", "Zb.max", "Zi.min", "Zi.max", "numpy.zeros.min", "numpy.zeros.max"], "store_vars_calls": {"t": "numpy.float64", "conserveIce": "numpy.float64", "meltrate": "numpy.zeros"}}, "compress_grid": {"args": ["H", "Zb", "COMPRESS_TOGGLE", "RESTART_TOGGLE", "THERMAL_TOGGLE"], "returns": [["Zi", "compression_ratio", "COMPRESSED_FLAG"]], "min_max_lineno": {"min_lineno": 303, "max_lineno": 350}, "calls": ["H.copy", "Zb.copy", "numpy.where", "max", "min", "max", "min", "H.max", "Ts.copy", "Tb.copy", "Tm.copy", "numpy.maximum", "numpy.maximum", "min", "max", "min", "max"], "store_vars_calls": {"H_FullSpace": "H.copy", "Zb_FullSpace": "Zb.copy", "mnrw": "max", "mxrw": "min", "mncl": "max", "mxcl": "min", "Ts_FullSpace": "Ts.copy", "Tb_FullSpace": "Tb.copy", "Tm_FullSpace": "Tm.copy"}}, "filter2d": {"args": ["b", "x", "shape"], "min_max_lineno": {"min_lineno": 353, "max_lineno": 356}, "calls": ["scipy.signal.convolve"]}, "add_halo": {"args": ["x"], "returns": [["x_ext"]], "min_max_lineno": {"min_lineno": 359, "max_lineno": 365}, "calls": ["numpy.concatenate", "numpy.concatenate"], "store_vars_calls": {"x_ext": "numpy.concatenate"}}, "set_bc": {"args": ["H", "Zb", "Zi", "THERMAL_TOGGLE", "WEST_BC_TOGGLE", "EAST_BC_TOGGLE", "SOUTH_BC_TOGGLE", "NORTH_BC_TOGGLE"], "returns": [["H_ext", "Zb_ext", "Zi_ext"]], "min_max_lineno": {"min_lineno": 368, "max_lineno": 448}, "calls": ["gc2d.add_halo", "gc2d.add_halo", "gc2d.add_halo", "gc2d.add_halo", "gc2d.add_halo", "gc2d.add_halo", "numpy.mean", "numpy.mean", "numpy.mean", "numpy.mean", "numpy.maximum", "numpy.maximum", "numpy.maximum", "numpy.maximum"], "store_vars_calls": {"H_ext": "add_halo", "Zb_ext": "add_halo", "Zi_ext": "add_halo", "Ts_ext": "add_halo", "Tb_ext": "add_halo", "Tm_ext": "add_halo"}}, "difference_grid": {"args": ["A", "dx", "dy"], "returns": [["dAdx", "dAdy"]], "min_max_lineno": {"min_lineno": 451, "max_lineno": 459}}, "basal_shear_stress": {"args": ["H_ext", "Zi_ext", "dx", "dy", "g", "rhoI"], "min_max_lineno": {"min_lineno": 463, "max_lineno": 504}, "calls": ["numpy.sqrt", "numpy.sqrt", "numpy.choose", "numpy.choose", "numpy.choose", "numpy.choose", "numpy.abs", "numpy.abs"], "store_vars_calls": {"taubX": "numpy.choose", "taubY": "numpy.choose", "xcmpnt": "numpy.choose", "ycmpnt": "numpy.choose"}}, "iceflow": {"args": ["taubX", "taubY", "HX", "HY", "xcmpnt", "ycmpnt", "THERMAL_TOGGLE", "glensA", "MinGlacThick", "lapseRate"], "returns": [["UdxX", "UdyY"]], "min_max_lineno": {"min_lineno": 507, "max_lineno": 557}, "calls": ["numpy.zeros", "numpy.nonzero", "numpy.abs", "numpy.abs", "numpy.put", "numpy.ravel", "logging.error", "scipy.interpolate.interp3d", "numpy.take", "numpy.take", "numpy.take"], "store_vars_calls": {"A_ext": "numpy.zeros", "ind": "numpy.nonzero"}}, "ice_sliding": {"args": ["taubX", "taubY", "xcmpnt", "ycmpnt", "THERMAL_TOGGLE", "FREEZEON_TOGGLE", "UsChar", "taubChar"], "returns": [["UsxX", "UsyY"]], "min_max_lineno": {"min_lineno": 560, "max_lineno": 590}, "calls": ["numpy.choose", "numpy.choose", "numpy.logical_or", "numpy.abs", "numpy.abs", "numpy.exp", "numpy.exp", "numpy.exp", "numpy.exp"], "store_vars_calls": {"UsxX": "numpy.choose", "UsyY": "numpy.choose", "notFrozen": "numpy.logical_or"}}, "sum_ice_motion": {"args": ["UdxX", "UdyY", "UsxX", "UsyY"], "returns": [["UxX", "UyY"]], "min_max_lineno": {"min_lineno": 593, "max_lineno": 599}}, "avalanche": {"args": ["H", "angleOfRepose"], "returns": [["H"]], "min_max_lineno": {"min_lineno": 602, "max_lineno": 662}, "calls": ["numpy.maximum", "numpy.tan", "numpy.zeros", "numpy.zeros", "numpy.choose", "numpy.choose", "numpy.choose", "numpy.zeros", "numpy.zeros", "numpy.choose", "numpy.choose", "numpy.choose", "numpy.sqrt", "numpy.choose", "numpy.choose", "numpy.choose.max", "numpy.choose", "numpy.maximum.copy", "numpy.choose", "numpy.zeros", "numpy.zeros", "numpy.zeros", "numpy.zeros", "numpy.maximum", "numpy.choose"], "store_vars_calls": {"Ho": "numpy.maximum", "dZidx_down": "numpy.zeros", "dZidx_up": "numpy.zeros", "dZidx": "numpy.choose", "dZidy_left": "numpy.zeros", "dZidy_right": "numpy.zeros", "dZidy": "numpy.choose", "grad": "numpy.choose", "gradT": "numpy.choose", "mxGrad": "grad.max", "delH": "numpy.choose", "Htmp": "Ho.copy", "delHdn": "numpy.zeros", "delHup": "numpy.zeros", "delHlt": "numpy.zeros", "delHrt": "numpy.zeros"}}, "calve": {"args": ["H", "dt", "CALVING_TOGGLE"], "min_max_lineno": {"min_lineno": 665, "max_lineno": 739}, "calls": ["H.copy", "numpy.logical_and", "numpy.array", "gc2d.filter2d", "wetGmargin.ravel().nonzero", "numpy.maximum", "numpy.take", "numpy.take", "numpy.choose", "min", "wetGmargin.ravel", "H.flatten", "H.flatten", "calve.sum().sum", "calve.sum"], "store_vars_calls": {"Hold": "H.copy", "W": "numpy.logical_and", "filt": "numpy.array", "Wfilt": "filter2d", "indWGM": "numpy.take", "WDmarg": "numpy.take", "Hmarg": "numpy.choose", "calvDt": "min"}}, "mass_balance": {"args": ["Zi", "t", "MASS_BALANCE_TOGGLE", "initELA", "ELAStepSize", "ELAStepInterval", "tmin", "gradBz", "maxBz"], "returns": [["Bxy", "ELA"]], "min_max_lineno": {"min_lineno": 742, "max_lineno": 865}, "calls": ["numpy.choose", "numpy.choose", "print", "print", "numpy.float64", "numpy.float64", "numpy.float64", "numpy.float64", "numpy.float64", "numpy.choose", "numpy.maximum", "numpy.zeros.min", "numpy.zeros.max", "max", "numpy.choose", "numpy.floor", "mass_balance_gc2d", "mass_balance_gc2d", "scipy.interpolate.interp1d", "gc2d.load_dem_var", "numpy.nonzero", "numpy.mean", "numpy.ravel", "numpy.take", "numpy.zeros", "logging.error", "numpy.ravel", "numpy.abs", "min", "numpy.abs"], "store_vars_calls": {"Bxy": "numpy.zeros", "tau": "numpy.float64", "tmin": "numpy.float64", "initELA": "numpy.float64", "stepSize": "numpy.float64", "dELAdt": "numpy.float64", "ind": "numpy.nonzero", "ELA": "numpy.mean"}}, "mass_conservation": {"args": ["H_ext", "UxX", "UyY", "HX", "HY", "dZidxX", "dZidyY", "dx", "dy", "MinGlacThick", "BoundaryFlux", "WEST_BC_TOGGLE", "EAST_BC_TOGGLE", "SOUTH_BC_TOGGLE", "NORTH_BC_TOGGLE"], "returns": [["dHdt"]], "min_max_lineno": {"min_lineno": 868, "max_lineno": 914}, "calls": ["numpy.choose", "numpy.choose", "numpy.choose", "numpy.sign", "numpy.sign", "numpy.abs", "numpy.abs"], "store_vars_calls": {"CLASS": "numpy.choose", "UxX": "numpy.choose", "UyY": "numpy.choose"}}, "load_dem": {"args": ["DEM_file"], "returns": [["topo", "easting", "northing", "cellsize"]], "min_max_lineno": {"min_lineno": 918, "max_lineno": 940}, "calls": ["scipy.io.loadmat", "numpy.float64", "numpy.float64", "numpy.float64", "numpy.float64", "logging.info", "logging.info", "logging.info", "sys.exit", "sys.exit"], "store_vars_calls": {"vars": "scipy.io.loadmat", "cellsize": "numpy.float64", "easting": "numpy.float64", "northing": "numpy.float64", "topo": "numpy.float64"}}, "load_dem_var": {"args": ["var_file", "val_s"], "returns": [["var"]], "min_max_lineno": {"min_lineno": 943, "max_lineno": 955}, "calls": ["scipy.io.loadmat"], "store_vars_calls": {"vars": "scipy.io.loadmat"}}, "get_timestep": {"args": ["H", "Zi_ext", "Zi", "dHdt", "Bxy", "dtMax", "dtDefault"], "returns": [["dt"]], "min_max_lineno": {"min_lineno": 958, "max_lineno": 1018}, "calls": ["numpy.abs", "gc2d.filter2d", "numpy.sqrt", "numpy.logical_and().flatten().nonzero", "numpy.ones", "gc2d.filter2d", "dtLimits.min", "numpy.logical_and().flatten", "min", "numpy.sqrt.flatten", "numpy.abs.flatten", "numpy.logical_and", "numpy.logical_and"], "store_vars_calls": {"adHdt": "numpy.abs", "ZiMean": "filter2d", "dHmax": "numpy.sqrt", "ind": "numpy.logical_and().flatten().nonzero", "dt": "min"}}, "update_vars": {"args": ["H", "Zb", "Zi", "Bxy", "qxX", "qyY", "dHdt", "t", "dt", "conserveIce", "dx", "dy"], "returns": [["t", "H", "Zi", "meltrate", "conserveIce"]], "min_max_lineno": {"min_lineno": 1061, "max_lineno": 1147}, "calls": ["numpy.maximum", "numpy.minimum", "numpy.maximum", "numpy.maximum", "snowFall.sum().sum", "numpy.maximum", "numpy.isnan().any", "qxX[].sum().sum", "logging.error", "snowFall.sum", "qxX[].sum().sum", "numpy.isnan", "qyY[].sum().sum", "qyY[].sum().sum", "qxX[].sum", "qxX[].sum", "qyY[].sum", "qyY[].sum"], "store_vars_calls": {"Bxy_pos": "numpy.maximum", "Bxy_neg": "numpy.maximum", "meltrate": "numpy.maximum", "dz": "numpy.maximum"}}, "print_watch_point": {"args": ["fd", "x"], "min_max_lineno": {"min_lineno": 1150, "max_lineno": 1154}, "calls": ["numpy.double", "numpy.double.tofile"], "store_vars_calls": {"y": "numpy.double"}}, "update": {"args": ["t", "H", "Zb", "dx", "dy", "meltrate", "conserveIce", "COMPRESS_TOGGLE", "ICEFLOW_TOGGLE", "ICESLIDE_TOGGLE", "VARIABLE_DT_TOGGLE", "dtDefault", "dtMax", "SILENT"], "returns": [["dt", "t", "H", "Zi", "meltrate", "conserveIce"]], "min_max_lineno": {"min_lineno": 1159, "max_lineno": 1273}, "calls": ["gc2d.compress_grid", "gc2d.set_bc", "gc2d.difference_grid", "gc2d.basal_shear_stress", "gc2d.sum_ice_motion", "gc2d.mass_conservation", "gc2d.mass_balance", "gc2d.update_vars", "gc2d.iceflow", "numpy.zeros", "numpy.zeros", "gc2d.ice_sliding", "numpy.zeros", "numpy.zeros", "gc2d.get_timestep", "print", "H.max", "meltrate.max"], "store_vars_calls": {"UdxX": "numpy.zeros", "UdyY": "numpy.zeros", "UsxX": "numpy.zeros", "UsyY": "numpy.zeros", "dt": "get_timestep"}}, "init_valley_glacier": {"args": ["DEM_file", "dx_sim"], "returns": [["topo", "easting", "northing", "cellsize", "dx", "dy"]], "min_max_lineno": {"min_lineno": 1276, "max_lineno": 1322}, "calls": ["gc2d.load_dem", "numpy.float64", "numpy.float64", "numpy.float64", "numpy.float64", "numpy.float64", "gc2d.resample_dem"], "store_vars_calls": {"dx": "numpy.float64", "dy": "numpy.float64", "Parameters.initELA": "numpy.float64", "Parameters.maxBz": "numpy.float64", "Parameters.gradBz": "numpy.float64"}}, "init_ice_sheet": {"args": ["DEM_file", "dx_sim"], "returns": [["topo", "easting", "northing", "cellsize", "dx", "dy"]], "min_max_lineno": {"min_lineno": 1325, "max_lineno": 1385}, "calls": ["gc2d.load_dem", "numpy.float64", "numpy.float64", "numpy.float64", "numpy.float64", "numpy.float64", "numpy.float64", "numpy.float64", "numpy.float64", "numpy.float64", "gc2d.resample_dem"], "store_vars_calls": {"dx": "numpy.float64", "dy": "numpy.float64", "Parameters.initELA": "numpy.float64", "Parameters.maxBz": "numpy.float64", "Parameters.gradBz": "numpy.float64", "Parameters.Hbound": "numpy.float64", "Parameters.Elev0": "numpy.float64", "Parameters.To": "numpy.float64", "Parameters.lapseRate": "numpy.float64"}}, "resample_dem": {"args": ["topo", "dx", "dy", "cellsize"], "returns": [["topo", "easting", "northing", "cellsize"]], "min_max_lineno": {"min_lineno": 1388, "max_lineno": 1427}, "calls": ["print", "print", "print", "numpy.meshgrid", "numpy.meshgrid", "print", "numpy.arange", "numpy.arange", "numpy.ceil", "numpy.ceil", "numpy.arange", "numpy.arange", "scipy.interpolate.interp2d", "scipy.interpolate.interp1d", "scipy.interpolate.interp1d", "max", "max", "max", "max"], "store_vars_calls": {"nx_New": "numpy.ceil", "ny_New": "numpy.ceil"}}, "init_ice_surface": {"args": ["Zb", "ZiBound", "Hbound", "dx"], "returns": [["H", "Zi"]], "min_max_lineno": {"min_lineno": 1430, "max_lineno": 1513}, "calls": ["numpy.zeros", "range", "numpy.zeros", "range", "numpy.mean", "min", "numpy.ones", "gc2d.filter2d", "numpy.zeros", "range", "numpy.diff", "numpy.sqrt", "logging.error"], "store_vars_calls": {"H": "numpy.zeros", "ZiBig": "filter2d", "jterm": "min", "mH": "numpy.zeros"}}, "load_state": {"args": ["DEM_file", "RESTART_TOGGLE", "INIT_COND_TOGGLE", "GENERIC_ICE_TOGGLE"], "returns": [["H", "Zb", "Zi", "dx", "dy"]], "min_max_lineno": {"min_lineno": 1520, "max_lineno": 1656}, "calls": ["topo.copy", "topo.copy.copy", "numpy.meshgrid", "numpy.zeros.sum().sum", "gc2d.init_valley_glacier", "gc2d.init_ice_surface", "numpy.arange", "numpy.arange", "gc2d.init_ice_sheet", "numpy.arange", "numpy.arange", "numpy.zeros", "numpy.zeros.sum"], "store_vars_calls": {"Zb": "topo.copy", "initZb": "Zb.copy", "conserveIce": "H.sum().sum", "easting": "numpy.arange", "northing": "numpy.arange", "H": "numpy.zeros"}}}, "is_test": false}